{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport { Formik } from 'formik';\nimport { Typography, Button } from '@material-ui/core';\nimport GenericForm from '../../sharedComponents/Forms';\nimport LoginService from '../../services/LoginService';\nimport SessionService from '../../services/SessionService';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexFlow: 'column',\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      marginTop: '5rem'\n    },\n    paper: {\n      width: '400px',\n      height: '400px'\n    },\n    header: {\n      padding: '1rem',\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.common.white\n    },\n    body: {\n      padding: theme.spacing(2),\n      color: theme.palette.common.white,\n      display: 'flex',\n      flexFlow: 'column'\n    },\n    button: {\n      marginTop: '1rem'\n    }\n  };\n});\n\nvar _GenericForm = new GenericForm(),\n    FormTextField = _GenericForm.FormTextField;\n\nvar loginInfo = {\n  username: '',\n  password: ''\n};\n\nvar Login = function Login(_ref) {\n  var onLogin = _ref.onLogin;\n  var classes = useStyles();\n\n  function handleLogin(_x) {\n    return _handleLogin.apply(this, arguments);\n  }\n\n  function _handleLogin() {\n    _handleLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(loginData) {\n      var sessionInfo;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return LoginService.login(loginData.username, loginData.password);\n\n            case 3:\n              sessionInfo = _context.sent;\n              SessionService.create(sessionInfo);\n              onLogin();\n              _context.next = 10;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n    return _handleLogin.apply(this, arguments);\n  }\n\n  return __jsx(Formik, {\n    initialValues: loginInfo,\n    onSubmit: handleLogin\n  }, function (props) {\n    return __jsx(\"form\", {\n      className: classes.root,\n      onSubmit: props.handleSubmit\n    }, __jsx(Paper, {\n      elevation: 3,\n      square: true,\n      className: classes.paper\n    }, __jsx(Typography, {\n      variant: \"h5\",\n      className: classes.header\n    }, \"Login\"), __jsx(\"div\", {\n      className: classes.body\n    }, __jsx(FormTextField, {\n      name: \"username\",\n      label: \"Usuario\"\n    }), __jsx(FormTextField, {\n      type: \"password\",\n      name: \"password\",\n      label: \"Contrase\\xF1a\"\n    }), __jsx(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      variant: \"contained\",\n      className: classes.button\n    }, \"Entrar\"))));\n  });\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}