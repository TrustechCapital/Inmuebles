{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback } from 'react';\nimport useThunkReducer from 'react-hook-thunk-reducer';\n/*\r\n    useEnhancedReducer es un React Hook que extiende la funcionalidad de useThunkReducer\r\n    para permitir que el dispatcher regrese una promesa. Esto es util para regresar el\r\n    control del flujo a la UI y mandar alertas al usuario basados en alguna operacion\r\n    asincrona. Ejemplo:\r\n\r\n    const [state, originalDispatch, promiseDispatch] = useEnhancedReducer(reducer, initialState);\r\n\r\n    promiseDispatch(someAction())\r\n    .then(...)\r\n    .catch(...)\r\n\r\n    o bien\r\n\r\n    await promiseDispatch(someAction());\r\n\r\n*/\n\nfunction useEnhancedReducer(reducer, initialArg) {\n  var _useThunkReducer = useThunkReducer(reducer, initialArg),\n      _useThunkReducer2 = _slicedToArray(_useThunkReducer, 2),\n      state = _useThunkReducer2[0],\n      originalDispatch = _useThunkReducer2[1];\n\n  var promiseDispatch = useCallback(function (action) {\n    return new Promise(function (res, rej) {\n      originalDispatch(function (dispatch, getState) {\n        action(dispatch, getState).then(res, rej);\n      });\n    });\n  }, []);\n  return [state, originalDispatch, promiseDispatch];\n}\n\nexport { useEnhancedReducer };","map":null,"metadata":{},"sourceType":"module"}