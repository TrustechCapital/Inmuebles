{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as Yup from 'yup';\n\nfunction emptyStringToUndefined(value) {\n  return isNaN(value) ? undefined : value;\n}\n\nfunction requiredFieldMessage(field) {\n  return `${field} es un campo requerido`;\n}\n\nfunction required(field) {\n  return Yup.mixed().required(requiredFieldMessage(field));\n}\n\nfunction validateRequiredString(field) {\n  return Yup.string().ensure().required(requiredFieldMessage(field));\n}\n\nfunction validateRequiredNumber(field) {\n  return Yup.number().transform(emptyStringToUndefined).required(requiredFieldMessage(field));\n}\n\nconst FILE_SIZE_IN_MB = 3;\nconst EXCEL_FILES = ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'];\nconst ALL_ACCEPTED_FILES = [...EXCEL_FILES];\n\nfunction validateFile(field, acceptedFormats = ALL_ACCEPTED_FILES, fileSize = FILE_SIZE_IN_MB) {\n  return Yup.mixed().test('fileRequired', requiredFieldMessage(field), async value => !!value).test('fileSize', 'El archivo es demasiado grande', value => !!value && value.size <= fileSize * 1024 * 1024);\n}\n\nconst ValidationHelpers = {\n  required,\n  requiredFieldMessage,\n  validateRequiredNumber,\n  validateRequiredString,\n  validateFile,\n  validateFideicomiso: validateRequiredNumber('El Fideicomiso'),\n  validateSubcuenta: validateRequiredNumber('La Subcuenta'),\n  validateInmueble: validateRequiredNumber('El Detalle de Bien')\n};\n\nclass FormValidator {\n  constructor(fields) {\n    _defineProperty(this, \"validationSchema\", void 0);\n\n    this.validationSchema = Yup.object().shape(fields);\n  }\n\n}\n\nexport default FormValidator;\nexport { ValidationHelpers };","map":null,"metadata":{},"sourceType":"module"}