{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { Formik, useFormikContext } from 'formik';\nimport { OperacionesCatalogo, SavingStatus } from '../../../constants';\nimport { ClavesModuloBienes } from '../../../constants/bienes';\nimport CatalogDialog from '../../../sharedComponents/CatalogDialog';\nimport GenericSwitch from '../../../sharedComponents/GenericSwitch';\nimport GenericForm from '../../../sharedComponents/Forms';\nimport FormValidator, { ValidationHelpers } from '../../../services/FormValidator';\nimport useNombreFideicomiso from '../../../sharedHooks/useNombreFideicomiso';\nconst {\n  FormTextField,\n  FormCatalogSelectField,\n  FormDatePickerField,\n  FormSwitchField\n} = new GenericForm(); //TODO: Usar estilos genericos\n\nconst useStyles = makeStyles(theme => ({\n  rowSpacing: {\n    marginBottom: theme.spacing(2)\n  }\n}));\nconst BienesFormValidator = new FormValidator({\n  idFideicomiso: ValidationHelpers.validateFideicomiso,\n  idSubcuenta: ValidationHelpers.validateSubcuenta,\n  idTipoBien: ValidationHelpers.validateRequiredNumber('El tipo de bien es un campo requerido')\n});\n\nconst IdFideicomisoField = props => {\n  const {\n    onChangeFideicomiso\n  } = props,\n        other = _objectWithoutProperties(props, [\"onChangeFideicomiso\"]);\n\n  const {\n    values: {\n      idFideicomiso\n    }\n  } = useFormikContext();\n  React.useEffect(() => {\n    if (idFideicomiso) {\n      onChangeFideicomiso(idFideicomiso);\n    }\n  }, [idFideicomiso]);\n  return __jsx(FormTextField, other);\n};\n\nconst DialogBienes = ({\n  mode,\n  model,\n  open,\n  errorMessage,\n  savingStatus,\n  onClose,\n  onSaveRequest\n}) => {\n  const classes = useStyles();\n  const [nombreFideicomiso, findNombreFideicomiso] = useNombreFideicomiso([open]);\n  const allFieldsDisabled = mode === OperacionesCatalogo.Consulta;\n  const pkFieldsDisabled = allFieldsDisabled || mode === OperacionesCatalogo.Modificacion;\n  return __jsx(Formik, {\n    initialValues: model,\n    onSubmit: onSaveRequest,\n    enableReinitialize: true,\n    validationSchema: BienesFormValidator.validationSchema\n  }, props => __jsx(CatalogDialog, {\n    opened: open,\n    operacionCatalogo: mode,\n    nombreCatalogo: \"Bienes\",\n    subtitle: \"Bienes por Fideicomisos\",\n    onCancel: () => {\n      props.resetForm();\n      onClose();\n    },\n    onAccept: props.handleSubmit,\n    errorMessage: errorMessage,\n    saving: savingStatus === SavingStatus.Saving,\n    success: savingStatus === SavingStatus.Success\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    direction: \"column\",\n    className: classes.rowSpacing\n  }, __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(IdFideicomisoField, {\n    name: \"idFideicomiso\",\n    label: \"Numero Fideicomiso\",\n    helperText: \"Fideicomiso a asignar bienes\",\n    disabled: pkFieldsDisabled,\n    dataType: \"text\",\n    onChangeFideicomiso: findNombreFideicomiso\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"nombreFideicomiso\",\n    label: \"Nombre de Fideicomiso\",\n    disabled: allFieldsDisabled,\n    defaultValue: nombreFideicomiso\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"idSubcuenta\",\n    label: \"Subcuenta\",\n    helperText: \"SubFiso\",\n    disabled: pkFieldsDisabled,\n    dataType: \"text\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormCatalogSelectField, {\n    name: \"idTipoBien\",\n    catalogId: ClavesModuloBienes.TiposDeBienes,\n    label: \"Tipo de Bien\",\n    disabled: pkFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"importeDelBien\",\n    label: \"Importe Actualizado\",\n    disabled: allFieldsDisabled,\n    dataType: \"text\",\n    adornment: \"$\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"descripcion\",\n    label: \"Descripci\\xF3n\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"importeUltimaValuacion\",\n    label: \"Importe \\xDAltima Valuaci\\xF3n\",\n    disabled: allFieldsDisabled,\n    dataType: \"text\",\n    adornment: \"$\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"comentario\",\n    label: \"Comentario\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormDatePickerField, {\n    name: \"fechaUltimaValuacion\",\n    label: \"Fecha de \\xDAltima Valuaci\\xF3n\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(GenericSwitch, {\n    label: \"Revalua\",\n    disabled: allFieldsDisabled,\n    onChange: () => {}\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormSwitchField, {\n    name: \"esGarantia\",\n    label: \"\\xBFEs Garant\\xEDa?\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"importeDeGarantia\",\n    label: \"Importe\",\n    disabled: allFieldsDisabled,\n    dataType: \"text\",\n    adornment: \"$\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"picnorado\",\n    label: \"Picnorado\",\n    disabled: allFieldsDisabled,\n    dataType: \"text\",\n    adornment: \"$\"\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormCatalogSelectField, {\n    name: \"idClavePeriodicidadRevaluacion\",\n    catalogId: ClavesModuloBienes.PeriodicidadDeRevaluacion,\n    label: \"Periodicidad\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormDatePickerField, {\n    name: \"fechaInicio\",\n    label: \"Fecha de Inicio\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormDatePickerField, {\n    name: \"fechaFin\",\n    label: \"Fecha de Salida\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormCatalogSelectField, {\n    name: \"estatus\",\n    catalogId: ClavesModuloBienes.Estatus,\n    useLabelAsValue: true,\n    label: \"Estatus\",\n    disabled: allFieldsDisabled,\n    defaultValue: \"ACTIVO\"\n  }))))));\n};\n\nexport default DialogBienes;","map":null,"metadata":{},"sourceType":"module"}