{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst SESSION_INFO_KEY = 'sessionInfo';\n\nclass SessionService {\n  constructor() {\n    _defineProperty(this, \"sessionInfo\", null);\n\n    _defineProperty(this, \"permissionsMap\", new Map());\n  }\n\n  get() {\n    const persistedSessionInfo = sessionStorage.getItem(SESSION_INFO_KEY);\n\n    if (persistedSessionInfo) {\n      this.sessionInfo = JSON.parse(persistedSessionInfo);\n      this.createPermissionsMapping();\n    }\n\n    return {\n      sessionInfo: this.sessionInfo,\n      permissionsMap: this.permissionsMap\n    };\n  }\n\n  create(sessionInfo) {\n    sessionStorage.setItem(SESSION_INFO_KEY, JSON.stringify(sessionInfo));\n  }\n\n  delete() {\n    sessionStorage.removeItem(SESSION_INFO_KEY);\n  }\n\n  createPermissionsMapping() {\n    this.permissionsMap = new Map();\n\n    if (this.sessionInfo) {\n      this.sessionInfo.permissions.forEach(permission => {\n        this.permissionsMap.set(permission.name, permission);\n      });\n    }\n  }\n\n}\n\nexport default new SessionService();","map":null,"metadata":{},"sourceType":"module"}