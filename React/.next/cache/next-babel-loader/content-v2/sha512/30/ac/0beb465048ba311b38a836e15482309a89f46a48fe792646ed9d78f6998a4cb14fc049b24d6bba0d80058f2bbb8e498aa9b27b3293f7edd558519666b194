{"ast":null,"code":"import { ModelsApi } from '../../../../core/api';\nimport BienResultRow from '../models/BienResultRow';\nimport Bien from '../../../../models/Bien';\nimport BienesModelMapper from './BienesModelMapper';\n\nclass BienesApi extends ModelsApi {\n  getModelFromResultRow(parameters) {\n    return new Bien(parameters.idFideicomiso, parameters.idSubcuenta, parameters.idTipoBien);\n  }\n\n  async exists(model) {\n    if (!model.idFideicomiso || model.idSubcuenta === null || model.idSubcuenta === undefined || !model.idTipoBien) {\n      return false;\n    }\n\n    return await this.getRef('qryExisteBien', {\n      idFideicomiso: model.idFideicomiso,\n      idSubcuenta: model.idSubcuenta,\n      idTipoBien: model.idTipoBien\n    }, data => {\n      return data;\n    }).then(data => {\n      return data[0].numRegistros >= 1;\n    });\n  }\n\n  async find(parameters) {\n    return await this.getRef('funRegistroGarantias', {\n      IdFideicomiso: parameters.idFideicomiso,\n      Subfiso: parameters.idSubcuenta,\n      Garantia: parameters.idTipoBien\n    }, BienResultRow.fromObject);\n  }\n\n}\n\nexport const bienesApi = new BienesApi(BienesModelMapper);","map":null,"metadata":{},"sourceType":"module"}