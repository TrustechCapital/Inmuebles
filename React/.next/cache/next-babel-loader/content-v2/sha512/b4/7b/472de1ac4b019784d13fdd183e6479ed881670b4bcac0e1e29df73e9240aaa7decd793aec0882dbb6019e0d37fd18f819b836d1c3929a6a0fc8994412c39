{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { Formik, useFormikContext } from 'formik';\nimport { OperacionesCatalogo, SavingStatus } from '../../../constants';\nimport { ClavesModuloBienes } from '../../../constants/bienes';\nimport CatalogDialog from '../../../sharedComponents/CatalogDialog';\nimport GenericForm from '../../../sharedComponents/Forms';\nimport useNombreFideicomiso from '../../../sharedHooks/useNombreFideicomiso';\nimport { monedasApi } from '../../../core/api/monedas';\nimport FormValidator, { ValidationHelpers } from '../../../services/FormValidator';\nconst {\n  FormTextField,\n  FormCatalogSelectField,\n  FormSelectField,\n  FormDatePickerField\n} = new GenericForm(); //TODO: Usar estilos genericos\n\nconst useStyles = makeStyles(theme => ({\n  rowSpacing: {\n    marginBottom: theme.spacing(2)\n  }\n}));\nconst IndividualizacionesFormValidator = new FormValidator({\n  idFideicomiso: ValidationHelpers.validateFideicomiso,\n  idSubcuenta: ValidationHelpers.validateSubcuenta,\n  idBien: ValidationHelpers.validateInmueble,\n  idEdificio: ValidationHelpers.validateRequiredString('El edificio'),\n  idDepto: ValidationHelpers.validateRequiredString('La unidad/departamento')\n});\n\nconst IdFideicomisoField = props => {\n  const {\n    onChangeFideicomiso\n  } = props,\n        other = _objectWithoutProperties(props, [\"onChangeFideicomiso\"]);\n\n  const {\n    values: {\n      idFideicomiso\n    }\n  } = useFormikContext();\n  React.useEffect(() => {\n    if (idFideicomiso) {\n      onChangeFideicomiso(idFideicomiso);\n    }\n  }, [idFideicomiso]);\n  return __jsx(FormTextField, other);\n};\n\nconst DialogIndividualizacion = ({\n  mode,\n  model,\n  open,\n  errorMessage,\n  savingStatus,\n  onClose,\n  onSaveRequest\n}) => {\n  const {\n    0: monedas,\n    1: setMonedas\n  } = useState([]);\n  const classes = useStyles();\n  const [nombreFideicomiso, findNombreFideicomiso] = useNombreFideicomiso([open]);\n  const allFieldsDisabled = mode === OperacionesCatalogo.Consulta;\n  const pkFieldsDisabled = allFieldsDisabled || mode === OperacionesCatalogo.Modificacion;\n  useEffect(() => {\n    monedasApi.fetchAll().then(monedas => {\n      setMonedas(monedas);\n    });\n  }, []);\n  return __jsx(Formik, {\n    initialValues: model,\n    onSubmit: onSaveRequest,\n    enableReinitialize: true,\n    validationSchema: IndividualizacionesFormValidator.validationSchema\n  }, props => __jsx(CatalogDialog, {\n    opened: open,\n    operacionCatalogo: mode,\n    nombreCatalogo: \"Individualizaciones\",\n    subtitle: \"Individualizaciones por Fideicomisos\",\n    onCancel: () => {\n      props.resetForm();\n      onClose();\n    },\n    onAccept: props.handleSubmit,\n    errorMessage: errorMessage,\n    saving: savingStatus === SavingStatus.Saving,\n    success: savingStatus === SavingStatus.Success\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    direction: \"column\",\n    className: classes.rowSpacing\n  }, __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(IdFideicomisoField, {\n    name: \"idFideicomiso\",\n    label: \"Fideicomiso\",\n    helperText: \"Fideicomiso a asignar bienes\",\n    disabled: pkFieldsDisabled,\n    dataType: \"text\",\n    onChangeFideicomiso: findNombreFideicomiso\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"nombreFideicomiso\",\n    label: \"Nombre de Fideicomiso\",\n    disabled: allFieldsDisabled,\n    defaultValue: nombreFideicomiso\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"idBien\",\n    label: \"N\\xFAmero de Detalle de Bien\",\n    disabled: pkFieldsDisabled,\n    dataType: \"text\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"idSubcuenta\",\n    label: \"Sub Cuenta\",\n    disabled: pkFieldsDisabled,\n    dataType: \"text\"\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"idEdificio\",\n    label: \"Edificio\",\n    disabled: pkFieldsDisabled,\n    dataType: \"text\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"idDepto\",\n    label: \"Unidad Condominal/Departamento\",\n    disabled: pkFieldsDisabled,\n    dataType: \"text\"\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"niveles\",\n    label: \"Niveles\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"calleYNumero\",\n    label: \"Calle\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"nombreColonia\",\n    label: \"Colonia\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"nombrePoblacion\",\n    label: \"Municipio/Poblacion\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"codigoPostal\",\n    label: \"C\\xF3digo Postal\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"numeroPais\",\n    label: \"Pais\",\n    disabled: allFieldsDisabled,\n    dataType: \"text\"\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"numeroEstado\",\n    label: \"Estado\",\n    disabled: allFieldsDisabled,\n    dataType: \"text\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"estacionamiento1\",\n    label: \"Estacionamiento 1\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"colindancias\",\n    label: \"Colindancias\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"medidas\",\n    label: \"Medidas\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"roofGarden\",\n    label: \"Otro\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"sotano\",\n    label: \"Otro 2\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"indiviso\",\n    label: \"Indiviso\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"precio\",\n    label: \"Registro Contable\",\n    dataType: \"text\",\n    adornment: \"$\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    id: \"precioCatastro\",\n    name: \"numeroCatastro\",\n    label: \"Numero Catastro\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    id: \"precioCatastro\",\n    name: \"precioCatastro\",\n    label: \"Precio Catastro\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled,\n    adornment: \"$\"\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormSelectField, {\n    name: \"moneda\",\n    items: monedas,\n    valueKey: \"idPais\",\n    labelKey: \"nombreMoneda\",\n    label: \"Moneda\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormCatalogSelectField, {\n    name: \"tipo\",\n    useLabelAsValue: true,\n    parentCatalogId: ClavesModuloBienes.TiposDeBienes,\n    parentValue: 2,\n    label: \"Clave de Bien\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"nombreAdquiriente\",\n    label: \"Nombre adquiriente\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"numeroNotario\",\n    label: \"Numero Notario\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"nombreNotario\",\n    label: \"Nombre Notario\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"numeroEscritura\",\n    label: \"Escritura\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormTextField, {\n    name: \"folioReal\",\n    label: \"Folio\",\n    dataType: \"text\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormDatePickerField, {\n    name: \"fechaTrasladoDominio\",\n    label: \"Fecha Escritura\",\n    disabled: allFieldsDisabled\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormDatePickerField, {\n    name: \"fechaReversion\",\n    label: \"Fecha Reversion\",\n    disabled: allFieldsDisabled\n  }))), __jsx(Grid, {\n    container: true,\n    className: classes.rowSpacing,\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormCatalogSelectField, {\n    name: \"status\",\n    catalogId: ClavesModuloBienes.Estatus,\n    useLabelAsValue: true,\n    defaultValue: \"LIBERADO\",\n    label: \"Estatus\",\n    disabled: allFieldsDisabled\n  }))))));\n};\n\nexport default DialogIndividualizacion;","map":null,"metadata":{},"sourceType":"module"}