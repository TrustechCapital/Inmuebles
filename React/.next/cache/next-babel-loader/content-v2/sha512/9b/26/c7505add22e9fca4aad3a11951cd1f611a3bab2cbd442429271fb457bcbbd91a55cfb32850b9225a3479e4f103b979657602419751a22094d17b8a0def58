{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport BackupIcon from '@material-ui/icons/Backup';\nimport CargaMasivasBienes from './models/CargaMasivaBienes';\nimport FormValidator, { ValidationHelpers } from '../../../services/FormValidator';\nimport { Formik } from 'formik';\nimport GenericForm from '../../../sharedComponents/Forms';\nimport { GenericRadioGroupItem } from '../../../sharedComponents/GenericRadioGroup';\nimport { TiposCargaMasivaBienes } from './constants';\nimport { cargaMasivaBienesApi } from './services/CargaMasivaBienesApi';\nimport SavingButton from '../../../sharedComponents/SavingButton';\nimport ErrorMessage from '../../../sharedComponents/ErrorMessage';\n\nvar _GenericForm = new GenericForm(),\n    FormTextField = _GenericForm.FormTextField,\n    FormFileField = _GenericForm.FormFileField,\n    FormRadioGroupField = _GenericForm.FormRadioGroupField;\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '70%',\n      margin: '0 auto'\n    },\n    rowSpacing: {\n      marginBottom: theme.spacing(2)\n    },\n    paper: {\n      padding: theme.spacing(2)\n    }\n  };\n});\nvar CargasMasivasFormValidator = new FormValidator({\n  idFideicomiso: ValidationHelpers.validateFideicomiso,\n  tipoCarga: ValidationHelpers.validateRequiredNumber('Tipo carga'),\n  file: ValidationHelpers.validateFile('Archivo de carga')\n});\nvar initialValues = new CargaMasivasBienes(null, null, null);\nvar initialOperationStatus = {\n  isInitialState: true,\n  isSaving: false,\n  error: null\n};\nexport default function MainCargaMasiva() {\n  var classes = useStyles();\n\n  var _useState = useState(initialOperationStatus),\n      operationStatus = _useState[0],\n      setOperationStatus = _useState[1];\n\n  var operationSuccess = !operationStatus.isInitialState && operationStatus.error === null;\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(datosCargaMasiva) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setOperationStatus({\n                isInitialState: false,\n                isSaving: true,\n                error: null\n              });\n              _context.next = 4;\n              return cargaMasivaBienesApi.aplicaCargaMasiva(datosCargaMasiva);\n\n            case 4:\n              setOperationStatus({\n                isInitialState: false,\n                isSaving: false,\n                error: null\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              setOperationStatus({\n                isInitialState: false,\n                isSaving: false,\n                error: null\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  return __jsx(Formik, {\n    initialValues: initialValues,\n    onSubmit: handleSubmit,\n    validationSchema: CargasMasivasFormValidator.validationSchema\n  }, function (props) {\n    return __jsx(\"form\", {\n      className: classes.root,\n      onSubmit: props.handleSubmit\n    }, __jsx(Paper, {\n      elevation: 3,\n      className: classes.paper\n    }, __jsx(Grid, {\n      container: true,\n      spacing: 1,\n      direction: \"column\"\n    }, __jsx(Grid, {\n      container: true,\n      className: classes.rowSpacing,\n      spacing: 4\n    }, __jsx(Grid, {\n      item: true,\n      xs: 12\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      component: \"div\"\n    }, \"Carga Masiva\"))), __jsx(Grid, {\n      container: true,\n      className: classes.rowSpacing,\n      spacing: 4\n    }, __jsx(Grid, {\n      item: true,\n      xs: 4\n    }, __jsx(FormTextField, {\n      name: \"idFideicomiso\",\n      label: \"Num. Fideicomiso\",\n      dataType: \"number\",\n      fullWidth: true\n    })), __jsx(Grid, {\n      item: true,\n      xs: 4\n    })), __jsx(Grid, {\n      container: true,\n      className: classes.rowSpacing,\n      spacing: 4\n    }, __jsx(Grid, {\n      item: true,\n      xs: 12\n    }, __jsx(FormRadioGroupField, {\n      name: \"tipoCarga\",\n      label: \"Tipo de carga\"\n    }, __jsx(GenericRadioGroupItem, {\n      value: TiposCargaMasivaBienes.Indovidualiacion.toString(),\n      label: \"Individualizaci\\xF3n Inmuebles\"\n    }), __jsx(GenericRadioGroupItem, {\n      value: TiposCargaMasivaBienes.Liberacion.toString(),\n      label: \"Liberaci\\xF3n\"\n    })))), __jsx(Grid, {\n      container: true,\n      className: classes.rowSpacing,\n      spacing: 4\n    }, __jsx(Grid, {\n      item: true,\n      xs: 12\n    }, __jsx(FormFileField, {\n      name: \"file\"\n    }))), __jsx(Grid, {\n      container: true,\n      justify: \"flex-end\"\n    }, __jsx(ErrorMessage, {\n      message: \"\"\n    }), __jsx(SavingButton, {\n      type: \"submit\",\n      loading: operationStatus.isSaving,\n      success: operationSuccess,\n      disabled: operationStatus.isSaving,\n      startIcon: __jsx(BackupIcon, null)\n    }, \"Aplicar\")))));\n  });\n}","map":null,"metadata":{},"sourceType":"module"}