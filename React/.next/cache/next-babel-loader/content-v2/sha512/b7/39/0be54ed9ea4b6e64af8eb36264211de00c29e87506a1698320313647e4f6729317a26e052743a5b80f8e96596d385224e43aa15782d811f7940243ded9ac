{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as Yup from 'yup';\n\nfunction emptyStringToUndefined(value) {\n  return isNaN(value) ? undefined : value;\n}\n\nfunction requiredFieldMessage(field) {\n  return \"\".concat(field, \" es un campo requerido\");\n}\n\nfunction required(field) {\n  return Yup.mixed().required(requiredFieldMessage(field));\n}\n\nfunction validateRequiredString(field) {\n  return Yup.string().ensure().required(requiredFieldMessage(field));\n}\n\nfunction validateRequiredNumber(field) {\n  return Yup.number().transform(emptyStringToUndefined).required(requiredFieldMessage(field));\n}\n\nvar FILE_SIZE_IN_MB = 3;\nvar EXCEL_FILES = ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'];\nvar ALL_ACCEPTED_FILES = [].concat(EXCEL_FILES);\n\nfunction validateFile(field) {\n  var acceptedFormats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ALL_ACCEPTED_FILES;\n  var fileSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : FILE_SIZE_IN_MB;\n  return Yup.mixed().test('fileRequired', requiredFieldMessage(field), /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", !!value);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }()).test('fileSize', 'El archivo es demasiado grande', function (value) {\n    return !!value && value.size <= fileSize * 1024 * 1024;\n  });\n}\n\nvar ValidationHelpers = {\n  required: required,\n  requiredFieldMessage: requiredFieldMessage,\n  validateRequiredNumber: validateRequiredNumber,\n  validateRequiredString: validateRequiredString,\n  validateFile: validateFile,\n  validateFideicomiso: validateRequiredNumber('El Fideicomiso'),\n  validateSubcuenta: validateRequiredNumber('La Subcuenta'),\n  validateInmueble: validateRequiredNumber('El Detalle de Bien')\n};\n\nvar FormValidator = function FormValidator(fields) {\n  _classCallCheck(this, FormValidator);\n\n  _defineProperty(this, \"validationSchema\", void 0);\n\n  this.validationSchema = Yup.object().shape(fields);\n};\n\nexport default FormValidator;\nexport { ValidationHelpers };","map":null,"metadata":{},"sourceType":"module"}