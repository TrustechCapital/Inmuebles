_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{GE2h:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ie}));var n,r=a("q1tI"),i=a.n(r),u=a("ODXe"),o=a("R/WZ"),c=a("tRbT"),s=a("MOdw");!function(e){e[e.TiposDeUsuario=30]="TiposDeUsuario",e[e.StatusDeUsuario=31]="StatusDeUsuario"}(n||(n={}));var l=a("PnZw"),f=a("hXSa"),d=a("IVvO"),b=a("D+An"),m=i.a.createElement,p=[{field:"idUsuario",header:"Id"},{field:"nombre",header:"Nombre"},{field:"email",header:"Correo"}],v=Object(o.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),O={nombreUsuario:null,idUsuario:null,idPerfil:null,status:null},h=function(e){var t=e.data,a=e.onSearch,r=v(),i=Object(s.a)(O),o=Object(u.a)(i,2),h=o[0],g=o[1];return m("div",null,m(c.a,{container:!0,spacing:1,direction:"column",className:r.rowSpacing},m(l.a,{onSearch:function(){a(h)},onClear:function(){return g({type:"clear",initialState:O})}},m(c.a,{container:!0,spacing:1,direction:"column"},m(c.a,{container:!0,className:r.rowSpacing,spacing:4},m(c.a,{item:!0,xs:6},m(d.a,{label:"Nombre",value:h.nombreUsuario,dataType:"text",onChange:function(e){return g({type:"field",fieldName:"nombreUsuario",value:e.target.value})}})),m(c.a,{item:!0,xs:4},m(d.a,{label:"Usuario OID",value:h.idUsuario,dataType:"text",onChange:function(e){return g({type:"field",fieldName:"idUsuario",value:e.target.value})}}))),m(c.a,{container:!0,spacing:4},m(c.a,{item:!0,xs:3},m(b.a,{label:"Perfil",catalogId:n.TiposDeUsuario,value:h.idPerfil,fullWidth:!0,onChange:function(e){return g({type:"field",fieldName:"idPerfil",value:e.target.value})}})),m(c.a,{item:!0,xs:3},m(b.a,{label:"Estatus",catalogId:n.StatusDeUsuario,value:h.status,fullWidth:!0,onChange:function(e){return g({type:"field",fieldName:"status",value:e.target.value})}})))))),m(c.a,{container:!0,spacing:1},m(f.b,{title:"Usuarios",data:t,columns:p,multipleSelect:!1})))},g=a("KYPV"),j=a("C/iq"),U=a("6NQC"),y=a("SVX5"),S=i.a.createElement,w=new y.a,R=w.FormTextField,P=w.FormCatalogSelectField,x=Object(o.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),N=function(e){var t=e.mode,a=e.model,r=e.open,i=e.errorMessage,u=e.savingStatus,o=e.onClose,s=e.onSaveRequest,l=x(),f=t===j.a.Consulta,d=f||t===j.a.Modificacion;return S(g.a,{initialValues:a,onSubmit:s,enableReinitialize:!0},(function(e){return S(U.a,{opened:r,operacionCatalogo:t,nombreCatalogo:"Usuarios",subtitle:"Usuarios del sistema",onCancel:function(){e.resetForm(),o()},onAccept:e.handleSubmit,errorMessage:i,saving:u===j.b.Saving,success:u===j.b.Success},S(c.a,{container:!0,spacing:1,direction:"column",className:l.rowSpacing},S(c.a,{container:!0,className:l.rowSpacing,spacing:3},S(c.a,{item:!0,xs:6},S(R,{name:"nombre",label:"Nombre",disabled:f,dataType:"text"})),S(c.a,{item:!0,xs:3},S(R,{name:"idUsuario",label:"Usuario OID",disabled:d}))),S(c.a,{container:!0,className:l.rowSpacing,spacing:3},S(c.a,{item:!0,xs:6},S(R,{name:"email",label:"E-mail",disabled:f})),S(c.a,{item:!0,xs:3},S(P,{name:"idPerfil",catalogId:n.TiposDeUsuario,label:"Tipo",disabled:f})),S(c.a,{item:!0,xs:3},S(P,{name:"estatus",catalogId:n.StatusDeUsuario,label:"Estatus",disabled:f})))))}))},k=a("1OyB"),D=a("JX7q"),E=a("Ji7U"),I=a("md7G"),M=a("foSv"),C=a("rePB");function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(M.a)(e);if(t){var r=Object(M.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(I.a)(this,a)}}var T=function(e){Object(E.a)(a,e);var t=F(a);function a(e){var n;return Object(k.a)(this,a),n=t.call(this),Object(C.a)(Object(D.a)(n),"backendModelReference","mx.com.inscitech.fiducia.domain.FUsuario"),Object(C.a)(Object(D.a)(n),"idUsuario",void 0),Object(C.a)(Object(D.a)(n),"nombre",""),Object(C.a)(Object(D.a)(n),"estatus",""),Object(C.a)(Object(D.a)(n),"email",""),Object(C.a)(Object(D.a)(n),"idPerfil",null),n.idUsuario=e,n}return a}(a("PW/F").a),_=a("q05S"),A={mainModelFromRow:function(e){return new T(e.idUsuario)},newModel:function(){return new T(null)}};function B(e,t){return t.type,Object(_.b)(e,t,A)}var q=a("o0o1"),V=a.n(q),J=a("HaE+"),X=a("vuIU"),K=a("kmDF");function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(M.a)(e);if(t){var r=Object(M.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(I.a)(this,a)}}var Q=function(e){Object(E.a)(a,e);var t=W(a);function a(){var e;Object(k.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(C.a)(Object(D.a)(e),"idUsuario",""),Object(C.a)(Object(D.a)(e),"nombre",""),Object(C.a)(Object(D.a)(e),"estatus",""),Object(C.a)(Object(D.a)(e),"email",""),Object(C.a)(Object(D.a)(e),"idPerfil",null),e}return Object(X.a)(a,null,[{key:"fromObject",value:function(e){var t={idUsuario:e.fusuIdUsuario,nombre:e.fusuNombreUsuario,estatus:e.fusuStatus,email:e.fusuEmail,idPerfil:e.fperIdPerfil};return Object.assign(new a(t.idUsuario),t)}}]),a}(a("gBQI").a),G=new(function(){function e(){Object(k.a)(this,e)}return Object(X.a)(e,[{key:"fromObject",value:function(e){var t=new T(e.usuNumUsuario);return Object.assign(t,{idUsuario:e.fusuIdUsuario,nombre:e.fusuNombreUsuario,estatus:e.fusuStatus,idPerfil:e.fperIdPerfil,email:e.fusuEmail}),t}},{key:"toObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{fusuIdUsuario:e.idUsuario}:{fusuIdUsuario:e.idUsuario,fusuNombreUsuario:e.nombre,fusuStatus:e.estatus,fperIdPerfil:e.idPerfil,fusuEmail:e.email}}}]),e}());function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(M.a)(e);if(t){var r=Object(M.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(I.a)(this,a)}}var Z=new(function(e){Object(E.a)(a,e);var t=L(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"getModelFromResultRow",value:function(e){return new T(e.idUsuario)}},{key:"exists",value:function(){var e=Object(J.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRef("verificaExistenciaUsuario",{idUsuario:t.idUsuario},(function(e){return e})).then((function(e){return 1===e[0].numRegistros}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=Object(J.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRef("qryConsultaUsuarios",{idUsuario:t.idUsuario,nombreUsuario:t.nombreUsuario,idPerfil:t.idPerfil,status:t.status},Q.fromObject);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(K.b))(G);function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(M.a)(e);if(t){var r=Object(M.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(I.a)(this,a)}}var H=function(e){Object(E.a)(a,e);var t=z(a);function a(){return Object(k.a)(this,a),t.call(this,Z)}return Object(X.a)(a,[{key:"fetchFullModel",value:function(){var e=Object(J.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return a=new T(t.idUsuario),e.next=5,Z.findByPK(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(_.a),Y=i.a.createElement,$={searchParameters:{nombreUsuario:null,idUsuario:null,idPerfil:null,status:null},searchResults:[],selectedRow:null,currentModel:new T(null),modalMode:j.a.Alta,modalOpen:!1,isLoadingModel:!1,savingStatus:j.b.Initial,modalErrorMessage:null},ee=function(){var e=Object(_.d)(B,$,new H),t=Object(u.a)(e,2),a=t[0],n=t[1];return Y(i.a.Fragment,null,Y(f.a.Provider,{value:n.tableCallbacks},Y(h,{data:a.searchResults,onSearch:n.onSearch})),Y(N,{mode:a.modalMode,open:a.modalOpen,model:a.currentModel,isLoading:a.isLoadingModel,savingStatus:a.savingStatus,errorMessage:a.modalErrorMessage,onClose:n.onCloseModal,onSaveRequest:n.onSave}))},te=a("FmQR"),ae=a("AQ/A"),ne=i.a.createElement,re=[{key:ae.e.USUARIOS,label:"Usuarios",component:ee}];function ie(){return ne(te.a,{tabs:re})}},"PW/F":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("1OyB"),r=a("vuIU"),i=a("rePB"),u=function(){function e(){Object(n.a)(this,e),Object(i.a)(this,"backendModelReference","")}return Object(r.a)(e,[{key:"getPKValues",value:function(){return{}}},{key:"hasSamePkAs",value:function(e){return JSON.stringify(this.getPKValues())===JSON.stringify(e.getPKValues())}}]),e}()},brjd:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seguridad",function(){return a("GE2h")}])}},[["brjd",0,1,3,2,4,5,6,7]]]);