_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"/kzC":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bienes",function(){return t("oL0z")}])},AWpp:function(e,a,t){"use strict";var n=t("1OyB"),i=t("vuIU"),r=t("JX7q"),o=t("Ji7U"),c=t("md7G"),u=t("foSv"),s=t("rePB");function l(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(u.a)(e);if(a){var i=Object(u.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(c.a)(this,t)}}var d=function(e){Object(o.a)(t,e);var a=l(t);function t(e,i,o,c,u){var l;return Object(n.a)(this,t),l=a.call(this),Object(s.a)(Object(r.a)(l),"backendModelReference","mx.com.inscitech.fiducia.domain.FUnidades"),Object(s.a)(Object(r.a)(l),"idFideicomiso",null),Object(s.a)(Object(r.a)(l),"idSubcuenta",null),Object(s.a)(Object(r.a)(l),"idBien",null),Object(s.a)(Object(r.a)(l),"idEdificio",null),Object(s.a)(Object(r.a)(l),"idDepto",null),Object(s.a)(Object(r.a)(l),"tipo",null),Object(s.a)(Object(r.a)(l),"niveles",null),Object(s.a)(Object(r.a)(l),"calleYNumero",null),Object(s.a)(Object(r.a)(l),"nombreColonia",null),Object(s.a)(Object(r.a)(l),"nombrePoblacion",null),Object(s.a)(Object(r.a)(l),"codigoPostal",null),Object(s.a)(Object(r.a)(l),"numeroEstado",null),Object(s.a)(Object(r.a)(l),"numeroPais",null),Object(s.a)(Object(r.a)(l),"colindancias",null),Object(s.a)(Object(r.a)(l),"medidas",null),Object(s.a)(Object(r.a)(l),"precio",null),Object(s.a)(Object(r.a)(l),"ultimoAvaluo",null),Object(s.a)(Object(r.a)(l),"fechaUltimoAvaluo",null),Object(s.a)(Object(r.a)(l),"moneda",null),Object(s.a)(Object(r.a)(l),"numeroNotario",null),Object(s.a)(Object(r.a)(l),"nombreNotario",null),Object(s.a)(Object(r.a)(l),"nombreAdquiriente",null),Object(s.a)(Object(r.a)(l),"localidadNotaria",null),Object(s.a)(Object(r.a)(l),"numeroEscritura",null),Object(s.a)(Object(r.a)(l),"folioReal",null),Object(s.a)(Object(r.a)(l),"fechaTrasladoDominio",null),Object(s.a)(Object(r.a)(l),"status",null),Object(s.a)(Object(r.a)(l),"estacionamiento1",null),Object(s.a)(Object(r.a)(l),"superficie1",null),Object(s.a)(Object(r.a)(l),"estacionamiento2",null),Object(s.a)(Object(r.a)(l),"superficie2",null),Object(s.a)(Object(r.a)(l),"estacionamiento3",null),Object(s.a)(Object(r.a)(l),"superficie3",null),Object(s.a)(Object(r.a)(l),"roofGarden",null),Object(s.a)(Object(r.a)(l),"roofSuperficie",null),Object(s.a)(Object(r.a)(l),"sotano",null),Object(s.a)(Object(r.a)(l),"sotanoSuperficie",null),Object(s.a)(Object(r.a)(l),"indiviso",null),Object(s.a)(Object(r.a)(l),"numeroCatastro",null),Object(s.a)(Object(r.a)(l),"precioCatastro",null),Object(s.a)(Object(r.a)(l),"acto1",null),Object(s.a)(Object(r.a)(l),"acto2",null),Object(s.a)(Object(r.a)(l),"acto3",null),Object(s.a)(Object(r.a)(l),"acto4",null),Object(s.a)(Object(r.a)(l),"fechaReversion",null),Object(s.a)(Object(r.a)(l),"cveGrahipo",null),Object(s.a)(Object(r.a)(l),"numeroHipoteca",null),Object(s.a)(Object(r.a)(l),"aFavor",null),Object(s.a)(Object(r.a)(l),"nombreFideicomiso",null),Object(s.a)(Object(r.a)(l),"setState",void 0),Object(s.a)(Object(r.a)(l),"onChange",(function(e){var a=e.target,t=a.name,n=a.value;l.setState(Object(s.a)({},t,n))})),l.idFideicomiso=e,l.idSubcuenta=i,l.idBien=o,l.idEdificio=c,l.idDepto=u,l.onChange=l.onChange.bind(Object(r.a)(l)),l}return Object(i.a)(t,[{key:"getPKValues",value:function(){return{idFideicomiso:this.idFideicomiso,idSubcuenta:this.idSubcuenta,idBien:this.idBien,idEdificio:this.idEdificio,idDepto:this.idDepto}}}]),t}(t("PW/F").a);a.a=d},"PW/F":function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t("1OyB"),i=t("vuIU"),r=t("rePB"),o=function(){function e(){Object(n.a)(this,e),Object(r.a)(this,"backendModelReference","")}return Object(i.a)(e,[{key:"getPKValues",value:function(){return{}}},{key:"hasSamePkAs",value:function(e){return JSON.stringify(this.getPKValues())===JSON.stringify(e.getPKValues())}}]),e}()},PX8c:function(e,a,t){"use strict";var n=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("q1tI")),r=(0,n(t("8/g6")).default)(i.default.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"Backup");a.default=r},UHIn:function(e,a,t){"use strict";t.d(a,"a",(function(){return y}));var n=t("1OyB"),i=t("vuIU"),r=t("sWYD"),o=t("/h9T"),c=t("jIYg"),u=36e5,s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,f=/^([+-])(\d{2})(?::?(\d{2}))?$/;function m(e,a){Object(c.a)(1,arguments);var t=a||{},n=null==t.additionalDigits?2:Object(o.a)(t.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,r=b(e);if(r.date){var u=p(r.date,n);i=O(u.restDateString,u.year)}if(isNaN(i)||!i)return new Date(NaN);var s,l=i.getTime(),d=0;if(r.time&&(d=j(r.time),isNaN(d)||null===d))return new Date(NaN);if(!r.timezone){var f=new Date(l+d),m=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds());return m.setFullYear(f.getUTCFullYear()),m}return s=g(r.timezone),isNaN(s)?new Date(NaN):new Date(l+d+s)}function b(e){var a,t={},n=e.split(s.dateTimeDelimiter);if(/:/.test(n[0])?(t.date=null,a=n[0]):(t.date=n[0],a=n[1],s.timeZoneDelimiter.test(t.date)&&(t.date=e.split(s.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){var i=s.timezone.exec(a);i?(t.time=a.replace(i[1],""),t.timezone=i[1]):t.time=a}return t}function p(e,a){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),n=e.match(t);if(!n)return{year:null};var i=n[1]&&parseInt(n[1]),r=n[2]&&parseInt(n[2]);return{year:null==r?i:100*r,restDateString:e.slice((n[1]||n[2]).length)}}function O(e,a){if(null===a)return null;var t=e.match(l);if(!t)return null;var n=!!t[4],i=v(t[1]),r=v(t[2])-1,o=v(t[3]),c=v(t[4]),u=v(t[5])-1;if(n)return function(e,a,t){return a>=1&&a<=53&&t>=0&&t<=6}(0,c,u)?function(e,a,t){var n=new Date(0);n.setUTCFullYear(e,0,4);var i=n.getUTCDay()||7,r=7*(a-1)+t+1-i;return n.setUTCDate(n.getUTCDate()+r),n}(a,c,u):new Date(NaN);var s=new Date(0);return function(e,a,t){return a>=0&&a<=11&&t>=1&&t<=(h[a]||(E(e)?29:28))}(a,r,o)&&function(e,a){return a>=1&&a<=(E(e)?366:365)}(a,i)?(s.setUTCFullYear(a,r,Math.max(i,o)),s):new Date(NaN)}function v(e){return e?parseInt(e):1}function j(e){var a=e.match(d);if(!a)return null;var t=S(a[1]),n=S(a[2]),i=S(a[3]);return function(e,a,t){if(24===e)return 0===a&&0===t;return t>=0&&t<60&&a>=0&&a<60&&e>=0&&e<25}(t,n,i)?t*u+6e4*n+1e3*i:NaN}function S(e){return e&&parseFloat(e.replace(",","."))||0}function g(e){if("Z"===e)return 0;var a=e.match(f);if(!a)return 0;var t="+"===a[1]?-1:1,n=parseInt(a[2]),i=a[3]&&parseInt(a[3])||0;return function(e,a){return a>=0&&a<=59}(0,i)?t*(n*u+6e4*i):NaN}var h=[31,null,31,30,31,30,31,31,30,31,30,31];function E(e){return e%400===0||e%4===0&&e%100}var y,R=t("LPPQ"),w=t("/Tr7"),D=t("Se/U"),N=t("+7QN");!function(e){e.Default="dd/MM/yyyy",e.ISO="ISO"}(y||(y={}));var C=function(){function e(){Object(n.a)(this,e)}return Object(i.a)(e,null,[{key:"fromDate",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.Default;return Object(r.a)(e,a)}},{key:"toDate",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.Default;return a===y.ISO?m(e):Object(R.a)(e,a,new Date)}},{key:"changeFormat",value:function(a,t,n){return t===y.ISO?e.fromDate(m(a),n):n===y.ISO?function(e,a){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var t=Object(w.a)(e);if(!Object(D.a)(t))throw new RangeError("Invalid time value");var n=a||{},i=null==n.format?"extended":String(n.format),r=null==n.representation?"complete":String(n.representation);if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==r&&"time"!==r&&"complete"!==r)throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",c="",u="extended"===i?"-":"",s="extended"===i?":":"";if("time"!==r){var l=Object(N.a)(t.getDate(),2),d=Object(N.a)(t.getMonth()+1,2),f=Object(N.a)(t.getFullYear(),4);o="".concat(f).concat(u).concat(d).concat(u).concat(l)}if("date"!==r){var m=t.getTimezoneOffset();if(0!==m){var b=Math.abs(m),p=Object(N.a)(Math.floor(b/60),2),O=Object(N.a)(b%60,2);c="".concat(m<0?"+":"-").concat(p,":").concat(O)}else c="Z";var v=""===o?"":"T",j=[Object(N.a)(t.getHours(),2),Object(N.a)(t.getMinutes(),2),Object(N.a)(t.getSeconds(),2)].join(s);o="".concat(o).concat(v).concat(j).concat(c)}return o}(e.toDate(a,t)):e.fromDate(Object(R.a)(a,t,new Date),n)}},{key:"toDates",value:function(a){return a.map((function(a){return a?e.toDate(a):null}))}},{key:"fromDates",value:function(a){return a.map((function(a){return a?e.fromDate(a):null}))}}]),e}();a.b=C},oL0z:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return Qt}));var n=t("q1tI"),i=t.n(n),r=t("o0o1"),o=t.n(r),c=t("HaE+"),u=t("ODXe"),s=t("R/WZ"),l=t("tRbT"),d=t("MOdw"),f=t("zpnI"),m=t("PnZw"),b=t("hXSa"),p=t("IVvO"),O=t("D+An"),v=i.a.createElement,j=[{field:"idFideicomiso",header:"Fideicomiso"},{field:"idBien",header:"Id Detalle Bien"},{field:"idEdificio",header:"Edificio"},{field:"idDepto",header:"Num. Unidad"},{field:"precio",header:"Valor",numeric:!0},{field:"status",header:"Estatus"}],S=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),g={idFideicomiso:null,idDepto:"",status:""},h=function(e){var a=e.data,t=e.onSearch,n=S(),i=Object(d.a)(g),r=Object(u.a)(i,2),o=r[0],c=r[1];return v("div",null,v(l.a,{container:!0,spacing:1,direction:"column",className:n.rowSpacing},v(m.a,{onSearch:function(){t(o)},onClear:function(){return c({type:"clear",initialState:g})}},v(l.a,{container:!0,spacing:1,direction:"column"},v(l.a,{container:!0,className:n.rowSpacing,spacing:4},v(l.a,{item:!0,xs:3},v(p.a,{label:"Id Fideicomiso",value:o.idFideicomiso,dataType:"number",onChange:function(e){return c({type:"field",fieldName:"idFideicomiso",value:e.target.value})}})),v(l.a,{item:!0,xs:9},v(l.a,{container:!0,alignItems:"center"},v("span",null)))),v(l.a,{container:!0,spacing:4},v(l.a,{item:!0,xs:3},v(p.a,{label:"Num Unidad",value:o.idDepto,onChange:function(e){return c({type:"field",fieldName:"idDepto",value:e.target.value})}})),v(l.a,{item:!0,xs:3},v(O.a,{label:"Estatus",catalogId:f.a.Estatus,useLabelAsValue:!0,value:o.status,fullWidth:!0,onChange:function(e){return c({type:"field",fieldName:"status",value:e.target.value})}})))))),v(l.a,{container:!0,spacing:1},v(b.b,{title:"Liberaciones",data:a,columns:j,multipleSelect:!1})))},E=t("KYPV"),y=t("C/iq"),R=t("6NQC"),w=t("SVX5"),D=t("xJAk"),N=i.a.createElement,C=new w.a,x=C.FormTextField,T=C.FormDatePickerField,B=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),F=new D.b({idFideicomiso:D.a.validateFideicomiso,idSubcuenta:D.a.validateSubcuenta,idBien:D.a.validateInmueble,idEdificio:D.a.validateRequiredString("El edificio"),idDepto:D.a.validateRequiredString("La unidad/departamento")}),I=function(e){var a=e.mode,t=e.model,n=e.open,i=e.errorMessage,r=e.savingStatus,o=e.onClose,c=e.onSaveRequest,u=B(),s=a===y.a.Consulta,d=s||a===y.a.Modificacion;return N(E.a,{initialValues:t,onSubmit:c,enableReinitialize:!0,validationSchema:F.validationSchema},(function(e){return N(R.a,{opened:n,operacionCatalogo:a,nombreCatalogo:"Liberaciones",subtitle:"Liberaciones por Fideicomisos",onCancel:function(){e.resetForm(),o()},onAccept:e.handleSubmit,errorMessage:i,saving:r===y.b.Saving,success:r===y.b.Success},N(l.a,{container:!0,spacing:1,direction:"column",className:u.rowSpacing},N(l.a,{container:!0,className:u.rowSpacing,spacing:3},N(l.a,{item:!0,xs:6},N(x,{name:"idFideicomiso",label:"Fideicomiso",helperText:"Fideicomiso a asignar bienes",disabled:d,dataType:"number"})),N(l.a,{item:!0,xs:6},N(p.a,{label:"Nombre de Fideicomiso",readOnly:!0,value:"",onChange:function(){}}))),N(l.a,{container:!0,className:u.rowSpacing,spacing:3},N(l.a,{item:!0,xs:6},N(x,{name:"idBien",label:"N\xfamero de Detalle de Bien",disabled:d,dataType:"number"})),N(l.a,{item:!0,xs:6},N(x,{name:"idSubcuenta",label:"Sub Cuenta",disabled:d,dataType:"number"}))),N(l.a,{container:!0,className:u.rowSpacing,spacing:3},N(l.a,{item:!0,xs:6},N(x,{name:"idEdificio",label:"Edificio",disabled:d})),N(l.a,{item:!0,xs:6},N(x,{name:"idDepto",label:"Unidad Condominal/Departamento",disabled:d}))),N(l.a,{container:!0,className:u.rowSpacing,spacing:3},N(l.a,{item:!0,xs:6},N(x,{name:"nombreAdquiriente",label:"Nombre adquiriente",dataType:"text",disabled:s})),N(l.a,{item:!0,xs:6},N(x,{name:"nombreNotario",label:"Nombre Notario",dataType:"text",disabled:s}))),N(l.a,{container:!0,className:u.rowSpacing,spacing:3},N(l.a,{item:!0,xs:6},N(x,{name:"precio",label:"Valor de la Operacion",dataType:"number"})),N(l.a,{item:!0,xs:6},N(T,{name:"fechaTrasladoDominio",label:"Fecha de la escrituracion",disabled:s})))))}))},M=t("AWpp"),A=t("rePB");function _(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?_(Object(t),!0).forEach((function(a){Object(A.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function L(e,a){switch(a.type){case"SET_LIBERACIONES_SEARCH_PARAMETERS":return P(P({},e),{},{searchParameters:a.searchParameters,selectedRow:null});case"SET_LIBERACIONES_SEARCH_RESULTS":return P(P({},e),{},{searchResults:a.results});case"SET_LIBERACIONES_ROWS_SELECTION":var t=a.selectedRow;return P(P({},e),{},{selectedRow:a.selectedRow,currentModel:new M.a(t.idFideicomiso,t.idSubcuenta,t.idBien,t.idEdificio,t.idDepto)});case"SET_LIBERACIONES_MODEL":return P(P({},e),{},{currentModel:a.model});case"OPEN_LIBERACIONES_MODAL":var n=e.currentModel,i=a.mode===y.a.Consulta||a.mode===y.a.Modificacion,r=a.mode===y.a.Alta;return r&&(n=new M.a(null,null,null,null,null)),r||i&&e.selectedRow?P(P({},e),{},{modalOpen:!0,modalMode:a.mode,savingStatus:y.b.Initial,currentModel:n}):e;case"CLOSE_LIBERACIONES_MODAL":return P(P({},e),{},{modalOpen:!1});case"SAVE_LIBERACIONES_MODEL":return P(P({},e),{},{savingStatus:y.b.Saving,modalErrorMessage:null});case"SET_MODEL_SAVE_SUCCESS":var o=e.modalMode;return o===y.a.Alta&&(o=y.a.Modificacion),P(P({},e),{},{savingStatus:y.b.Success,modalMode:o});case"SET_MODEL_SAVE_ERROR":return P(P({},e),{},{savingStatus:y.b.Error,modalErrorMessage:a.error});default:return e}}function k(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function V(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?k(Object(t),!0).forEach((function(a){Object(A.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function U(e,a){switch(a.type){case"SET_LIBERACIONES_SEARCH_RESULTS":return{Liberaciones:L(e.Liberaciones,a)};case"SELECT_LIBERACIONES_RESULT_ROW":return{Liberaciones:L(e.Liberaciones,V(V({},a),{},{type:"SET_LIBERACIONES_ROWS_SELECTION"}))};default:return{Liberaciones:L(e.Liberaciones,a)}}}var G=t("1OyB"),q=t("vuIU"),z=t("Ji7U"),H=t("md7G"),W=t("foSv"),Y=t("kmDF"),K=t("JX7q"),$=t("gBQI");function J(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var Z=function(e){Object(z.a)(t,e);var a=J(t);function t(){var e;Object(G.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),Object(A.a)(Object(K.a)(e),"idFideicomiso",null),Object(A.a)(Object(K.a)(e),"idSubcuenta",null),Object(A.a)(Object(K.a)(e),"idBien",null),Object(A.a)(Object(K.a)(e),"idEdificio",""),Object(A.a)(Object(K.a)(e),"idDepto",""),Object(A.a)(Object(K.a)(e),"precio",null),Object(A.a)(Object(K.a)(e),"moneda",""),Object(A.a)(Object(K.a)(e),"status",""),e}return Object(q.a)(t,null,[{key:"fromObject",value:function(e){var a={idFideicomiso:e.funiIdFideicomiso,idSubcuenta:e.funiIdSubcuenta,idBien:e.funiIdBien,idEdificio:e.funiIdEdificio,idDepto:e.funiIdDepto,precio:e.funiPrecio,moneda:e.funiMoneda,status:e.funiStatus},n=[a.idFideicomiso,a.idSubcuenta,a.idBien,a.idEdificio,a.idDepto].join("-");return Object.assign(new t(n),a)}}]),t}($.a),X=t("UHIn"),Q=new(function(){function e(){Object(G.a)(this,e)}return Object(q.a)(e,[{key:"fromObject",value:function(e){var a=X.b.toDates([e.funiFechaUltimoAvaluo,e.funiFechaTrasladoDominio,e.funiFechaReversion]),t=Object(u.a)(a,3),n=t[0],i=t[1],r=t[2],o=new M.a(e.funiIdFideicomiso,e.funiIdSubcuenta,e.funiIdBien,e.funiIdEdificio,e.funiIdDepto);return Object.assign(o,{tipo:e.funiTipo,niveles:e.funiNiveles,calleYNumero:e.funiCalleNum,nombreColonia:e.funiNomColonia,nombrePoblacion:e.funiNomPoblacion,codigoPostal:e.funiCodigoPostal,numeroEstado:e.funiClaveEstado,numeroPais:e.funiClavePais,colindancias:e.funiColindancias,medidas:e.funiMedidas,precio:e.funiPrecio,ultimoAvaluo:e.funiUltimoAvaluo,fechaUltimoAvaluo:n,moneda:e.funiMoneda,numeroNotario:e.funiNotario,nombreNotario:e.funiNombreNotario,nombreAdquiriente:e.funiNombreAdquiriente,localidadNotaria:e.funiLocalidadNota,numeroEscritura:e.funiNumEscritura,folioReal:e.funiFolioReal,fechaTrasladoDominio:i,status:e.funiStatus,estacionamiento1:e.funiEstacionamiento1,superficie1:e.funiSuperficie1,estacionamiento2:e.funiEstacionamiento2,superficie2:e.funiSuperficie2,estacionamiento3:e.funiEstacionamiento3,superficie3:e.funiSuperficie3,roofGarden:e.funiRoofGarden,roofSuperficie:e.funiRoofSuperficie,sotano:e.funiSotano,sotanoSuperficie:e.funiSotanoSuperficie,indiviso:e.funiIndiviso,numeroCatastro:e.funiNumeroCatastro,precioCatastro:e.funiPrecioCatastro,acto1:e.funiActo1,acto2:e.funiActo2,acto3:e.funiActo3,acto4:e.funiActo4,fechaReversion:r,cveGrahipo:e.funiCveGrahipo,numeroHipoteca:e.funiNumHipoteca,aFavor:e.funiAFavor}),o}},{key:"toObject",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return{funiIdFideicomiso:e.idFideicomiso,funiIdSubcuenta:e.idSubcuenta,funiIdBien:e.idBien,funiIdEdificio:e.idEdificio,funiIdDepto:e.idDepto};var t=X.b.fromDates([e.fechaUltimoAvaluo,e.fechaTrasladoDominio,e.fechaReversion]),n=Object(u.a)(t,3),i=n[0],r=n[1],o=n[2];return{funiIdFideicomiso:e.idFideicomiso,funiIdSubcuenta:e.idSubcuenta,funiIdBien:e.idBien,funiIdEdificio:e.idEdificio,funiIdDepto:e.idDepto,funiTipo:e.tipo,funiNiveles:e.niveles,funiCalleNum:e.calleYNumero,funiNomColonia:e.nombreColonia,funiNomPoblacion:e.nombrePoblacion,funiCodigoPostal:e.codigoPostal,funiClaveEstado:e.numeroEstado,funiClavePais:e.numeroPais,funiColindancias:e.colindancias,funiMedidas:e.medidas,funiPrecio:e.precio,funiUltimoAvaluo:e.ultimoAvaluo,funiFechaUltimoAvaluo:i,funiMoneda:e.moneda,funiNotario:e.numeroNotario,funiNombreNotario:e.nombreNotario,funiNombreAdquiriente:e.nombreAdquiriente,funiLocalidadNota:e.localidadNotaria,funiNumEscritura:e.numeroEscritura,funiFolioReal:e.folioReal,funiFechaTrasladoDominio:r,funiStatus:e.status,funiEstacionamiento1:e.estacionamiento1,funiSuperficie1:e.superficie1,funiEstacionamiento2:e.estacionamiento2,funiSuperficie2:e.superficie2,funiEstacionamiento3:e.estacionamiento3,funiSuperficie3:e.superficie3,funiRoofGarden:e.roofGarden,funiRoofSuperficie:e.roofSuperficie,funiSotano:e.sotano,funiSotanoSuperficie:e.sotanoSuperficie,funiIndiviso:e.indiviso,funiNumeroCatastro:e.numeroCatastro,funiPrecioCatastro:e.precioCatastro,funiActo1:e.acto1,funiActo2:e.acto2,funiActo3:e.acto3,funiActo4:e.acto4,funiFechaReversion:o,funiCveGrahipo:e.cveGrahipo,funiNumHipoteca:e.numeroHipoteca,funiAFavor:e.aFavor}}}]),e}());function ee(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var ae=new(function(e){Object(z.a)(t,e);var a=ee(t);function t(){return Object(G.a)(this,t),a.apply(this,arguments)}return Object(q.a)(t,[{key:"getModelFromResultRow",value:function(e){return new M.a(e.idFideicomiso,e.idSubcuenta,e.idBien,e.idEdificio,e.idDepto)}},{key:"find",value:function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRef("qryConsultaLiberacionesBienes",{NumFideicomiso:a.idFideicomiso,NumUnidad:a.idDepto,CveStatus:a.status},Z.fromObject);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(Y.b))(Q);function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(c.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return t=new M.a(a.idFideicomiso,a.idSubcuenta,a.idBien,a.idEdificio,a.idDepto),e.next=5,ae.findByPK(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,a){return re.apply(this,arguments)}function re(){return(re=Object(c.a)(o.a.mark((function e(a,t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.find(t);case 2:n=e.sent,a({type:"SET_LIBERACIONES_SEARCH_RESULTS",results:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,a){return ce.apply(this,arguments)}function ce(){return(ce=Object(c.a)(o.a.mark((function e(a,t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(),e.next=3,ie(a,n.Liberaciones.searchParameters);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue={selectLiberacionesRow:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:"SELECT_LIBERACIONES_RESULT_ROW",selectedRow:e});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},fetchAndDisplayModel:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t,n){var i,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=n(),a.next=3,te(i.Liberaciones.selectedRow);case 3:null!==(r=a.sent)&&t({type:"SET_LIBERACIONES_MODEL",model:r}),t({type:"OPEN_LIBERACIONES_MODAL",mode:e});case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},newSearchLiberaciones:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"SET_LIBERACIONES_SEARCH_PARAMETERS",searchParameters:e}),a.next=3,ie(t,e);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},saveModel:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t,n){var i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=n(),t({type:"SAVE_LIBERACIONES_MODEL"}),a.prev=2,i.Liberaciones.modalMode!==y.a.Alta){a.next=8;break}return a.next=6,ae.create(e);case 6:a.next=10;break;case 8:return a.next=10,ae.update(e);case 10:t({type:"SET_MODEL_SAVE_SUCCESS"}),oe(t,n),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(2),t({type:"SET_MODEL_SAVE_ERROR",error:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[2,14]])})));return function(e,t){return a.apply(this,arguments)}}()},deleteSelectedModel:function(){return function(){var e=Object(c.a)(o.a.mark((function e(a,t){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t()).Liberaciones.selectedRow){e.next=3;break}return e.abrupt("return");case 3:return i=ae.getModelFromResultRow(n.Liberaciones.selectedRow),e.next=6,ae.destroy(i);case 6:return e.next=8,oe(a,t);case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}},se=t("iwi0"),le=t("cRrg"),de=t("g9qJ"),fe=i.a.createElement,me={Liberaciones:{searchParameters:{idFideicomiso:null,idDepto:"",status:""},searchResults:[],selectedRow:null,currentModel:new M.a(null,null,null,null,null),modalMode:y.a.Alta,modalOpen:!1,isLoadingModel:!1,savingStatus:y.b.Initial,modalErrorMessage:null}},be=function(){var e=Object(de.a)(U,me),a=Object(u.a)(e,3),t=a[0],r=a[1],s=a[2],l=Object(le.a)(),d=l.alertSuccess,f=l.alertError,m=Object(n.useCallback)((function(){r({type:"CLOSE_LIBERACIONES_MODAL"})}),[]),p=Object(n.useCallback)((function(e){r(ue.saveModel(e))}),[]),O=Object(n.useCallback)((function(e){r(ue.newSearchLiberaciones(e))}),[]),v=Object(n.useMemo)((function(){return{onSelect:function(e){r(ue.selectLiberacionesRow(e[0]))},onNew:function(){r({type:"OPEN_LIBERACIONES_MODAL",mode:y.a.Alta})},onView:function(){r(ue.fetchAndDisplayModel(y.a.Consulta))},onModify:function(){r(ue.fetchAndDisplayModel(y.a.Modificacion))},onDelete:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)();case 2:e.sent&&s(ue.deleteSelectedModel()).then((function(){d("Registros eliminados exitosamente")})).catch((function(e){f(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),[]);return fe(i.a.Fragment,null,fe(b.a.Provider,{value:v},fe(h,{data:t.Liberaciones.searchResults,onSearch:O})),fe(I,{mode:t.Liberaciones.modalMode,open:t.Liberaciones.modalOpen,model:t.Liberaciones.currentModel,isLoading:t.Liberaciones.isLoadingModel,savingStatus:t.Liberaciones.savingStatus,errorMessage:t.Liberaciones.modalErrorMessage,onClose:m,onSaveRequest:p}))},pe=t("lD8i"),Oe=i.a.createElement,ve=[{field:"idFideicomiso",header:"Fideicomiso"},{field:"cveGarantia",header:"Id Bien"},{field:"idBien",header:"Id Detalle Bien"},{field:"idEdificio",header:"Edificio"},{field:"idDepto",header:"Num. Unidad"},{field:"precio",header:"Valor",numeric:!0},{field:"status",header:"Estatus"}],je=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),Se={idFideicomiso:null,idDepto:"",calleYNumero:"",status:"",numeroCatastro:null,estado:"",municipio:"",escriturado:!1,fechaEscritura:null},ge=function(e){var a=e.data,t=e.onSearch,n=je(),i=Object(d.a)(Se),r=Object(u.a)(i,2),o=r[0],c=r[1];return Oe("div",null,Oe(l.a,{container:!0,spacing:1,direction:"column",className:n.rowSpacing},Oe(m.a,{onSearch:function(){t(o)},onClear:function(){return c({type:"clear",initialState:Se})}},Oe(l.a,{container:!0,spacing:1,direction:"column"},Oe(l.a,{container:!0,className:n.rowSpacing,spacing:4},Oe(l.a,{item:!0,xs:3},Oe(p.a,{label:"Id Fideicomiso",value:o.idFideicomiso,dataType:"number",onChange:function(e){return c({type:"field",fieldName:"idFideicomiso",value:e.target.value})}})),Oe(l.a,{item:!0,xs:9},Oe(l.a,{container:!0,alignItems:"center"},Oe("span",null)))),Oe(l.a,{container:!0,spacing:4},Oe(l.a,{item:!0,xs:3},Oe(p.a,{label:"Unidad/Departamento",value:o.idDepto,onChange:function(e){return c({type:"field",fieldName:"idDepto",value:e.target.value})}})),Oe(l.a,{item:!0,xs:3},Oe(p.a,{label:"Calle",value:o.calleYNumero,dataType:"text",onChange:function(e){return c({type:"field",fieldName:"calleYNumero",value:e.target.value})}})),Oe(l.a,{item:!0,xs:3},Oe(O.a,{label:"Estatus",catalogId:f.a.Estatus,useLabelAsValue:!0,value:o.status,fullWidth:!0,onChange:function(e){return c({type:"field",fieldName:"status",value:e.target.value})}}))),Oe(l.a,{container:!0,spacing:4},Oe(l.a,{item:!0,xs:3},Oe(p.a,{label:"Numero catastral",dataType:"text",value:o.numeroCatastro,onChange:function(e){return c({type:"field",fieldName:"numeroCatastro",value:e.target.value})}})),Oe(l.a,{item:!0,xs:3},Oe(p.a,{label:"Estado",value:o.estado,dataType:"text",onChange:function(e){return c({type:"field",fieldName:"estado",value:e.target.value})}})),Oe(l.a,{item:!0,xs:3},Oe(p.a,{label:"Municipio/Poblacion",value:o.municipio,dataType:"text",onChange:function(e){return c({type:"field",fieldName:"municipio",value:e.target.value})}}))),Oe(l.a,{container:!0,spacing:4},Oe(l.a,{item:!0,xs:3},Oe(pe.a,{label:"Fecha Transmisi\xf3n",value:o.fechaEscritura,onChange:function(e){return c({type:"field",fieldName:"fechaEscritura",value:e.target.value})}})))))),Oe(l.a,{container:!0,spacing:1},Oe(b.b,{title:"Individualizaciones",data:a,columns:ve,multipleSelect:!1})))},he=t("Ff2n"),Ee=t("kkhv");function ye(e){var a=Object(n.useState)(""),t=a[0],i=a[1];return Object(n.useEffect)((function(){i("")}),e),[t,Object(n.useCallback)((function(e){Ee.a.getName(e).then(i)}),[])]}var Re=t("5eI3"),we=function(){function e(a,t){Object(G.a)(this,e),Object(A.a)(this,"idPais",void 0),Object(A.a)(this,"nombreMoneda",void 0),this.idPais=a,this.nombreMoneda=t}return Object(q.a)(e,null,[{key:"fromObject",value:function(e,a){return{idPais:e.monNumPais,nombreMoneda:e.monNomMoneda}}}]),e}(),De=t("N/C8");function Ne(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var Ce="catalogoMonedas",xe=new(function(e){Object(z.a)(t,e);var a=Ne(t);function t(){return Object(G.a)(this,t),a.call(this,{})}return Object(q.a)(t,[{key:"fetchAll",value:function(){var e=Object(c.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=De.a.get(Ce))){e.next=3;break}return e.abrupt("return",a);case 3:return e.next=5,this.getRef("conNumMonNomMon",{},we.fromObject);case 5:return t=e.sent,De.a.set(Ce,t),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(Re.a)),Te=i.a.createElement,Be=new w.a,Fe=Be.FormTextField,Ie=Be.FormCatalogSelectField,Me=Be.FormSelectField,Ae=Be.FormDatePickerField,_e=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),Pe=new D.b({idFideicomiso:D.a.validateFideicomiso,idSubcuenta:D.a.validateSubcuenta,idBien:D.a.validateInmueble,idEdificio:D.a.validateRequiredString("El edificio"),idDepto:D.a.validateRequiredString("La unidad/departamento")}),Le=function(e){var a=e.onChangeFideicomiso,t=Object(he.a)(e,["onChangeFideicomiso"]),n=Object(E.c)().values.idFideicomiso;return i.a.useEffect((function(){n&&a(n)}),[n]),Te(Fe,t)},ke=function(e){var a=e.mode,t=e.model,i=e.open,r=e.errorMessage,o=e.savingStatus,c=e.onClose,s=e.onSaveRequest,d=Object(n.useState)([]),m=d[0],b=d[1],p=_e(),O=ye([i]),v=Object(u.a)(O,2),j=v[0],S=v[1],g=a===y.a.Consulta,h=g||a===y.a.Modificacion;return Object(n.useEffect)((function(){xe.fetchAll().then((function(e){b(e)}))}),[]),Te(E.a,{initialValues:t,onSubmit:s,enableReinitialize:!0,validationSchema:Pe.validationSchema},(function(e){return Te(R.a,{opened:i,operacionCatalogo:a,nombreCatalogo:"Individualizaciones",subtitle:"Individualizaciones por Fideicomisos",onCancel:function(){e.resetForm(),c()},onAccept:e.handleSubmit,errorMessage:r,saving:o===y.b.Saving,success:o===y.b.Success},Te(l.a,{container:!0,spacing:1,direction:"column",className:p.rowSpacing},Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Le,{name:"idFideicomiso",label:"Fideicomiso",helperText:"Fideicomiso a asignar bienes",disabled:h,dataType:"text",onChangeFideicomiso:S})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"nombreFideicomiso",label:"Nombre de Fideicomiso",disabled:g,defaultValue:j}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"idBien",label:"N\xfamero de Detalle de Bien",disabled:h,dataType:"text"})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"idSubcuenta",label:"Sub Cuenta",disabled:h,dataType:"text"}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"idEdificio",label:"Edificio",disabled:h,dataType:"text"})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"idDepto",label:"Unidad Condominal/Departamento",disabled:h,dataType:"text"}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"niveles",label:"Niveles",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"calleYNumero",label:"Calle",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"nombreColonia",label:"Colonia",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"nombrePoblacion",label:"Municipio/Poblacion",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"codigoPostal",label:"C\xf3digo Postal",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"numeroPais",label:"Pais",disabled:g,dataType:"text"}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"numeroEstado",label:"Estado",disabled:g,dataType:"text"})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"estacionamiento1",label:"Estacionamiento 1",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"colindancias",label:"Colindancias",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"medidas",label:"Medidas",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"roofGarden",label:"Otro",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"sotano",label:"Otro 2",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"indiviso",label:"Indiviso",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"precio",label:"Registro Contable",dataType:"text",adornment:"$",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{id:"precioCatastro",name:"numeroCatastro",label:"Numero Catastro",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{id:"precioCatastro",name:"precioCatastro",label:"Precio Catastro",dataType:"text",disabled:g,adornment:"$"})),Te(l.a,{item:!0,xs:6},Te(Me,{name:"moneda",items:m,valueKey:"idPais",labelKey:"nombreMoneda",label:"Moneda",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Ie,{name:"tipo",useLabelAsValue:!0,parentCatalogId:f.a.TiposDeBienes,parentValue:2,label:"Clave de Bien",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"nombreAdquiriente",label:"Nombre adquiriente",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"numeroNotario",label:"Numero Notario",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"nombreNotario",label:"Nombre Notario",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Fe,{name:"numeroEscritura",label:"Escritura",dataType:"text",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Fe,{name:"folioReal",label:"Folio",dataType:"text",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Ae,{name:"fechaTrasladoDominio",label:"Fecha Escritura",disabled:g})),Te(l.a,{item:!0,xs:6},Te(Ae,{name:"fechaReversion",label:"Fecha Reversion",disabled:g}))),Te(l.a,{container:!0,className:p.rowSpacing,spacing:3},Te(l.a,{item:!0,xs:6},Te(Ie,{name:"status",catalogId:f.a.Estatus,useLabelAsValue:!0,defaultValue:"LIBERADO",label:"Estatus",disabled:g})))))}))},Ve=t("q05S"),Ue={mainModelFromRow:function(e){return new M.a(e.idFideicomiso,e.idSubcuenta,e.idBien,e.idEdificio,e.idDepto)},newModel:function(){return new M.a(null,null,null,null,null)}};function Ge(e,a){return a.type,Object(Ve.b)(e,a,Ue)}function qe(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var ze=function(e){Object(z.a)(t,e);var a=qe(t);function t(){var e;Object(G.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),Object(A.a)(Object(K.a)(e),"idFideicomiso",null),Object(A.a)(Object(K.a)(e),"idSubcuenta",null),Object(A.a)(Object(K.a)(e),"idBien",null),Object(A.a)(Object(K.a)(e),"cveGarantia",""),Object(A.a)(Object(K.a)(e),"idGarantia",""),Object(A.a)(Object(K.a)(e),"idEdificio",""),Object(A.a)(Object(K.a)(e),"idDepto",""),Object(A.a)(Object(K.a)(e),"calleYNumero",""),Object(A.a)(Object(K.a)(e),"precio",""),Object(A.a)(Object(K.a)(e),"moneda",""),Object(A.a)(Object(K.a)(e),"status",""),e}return Object(q.a)(t,null,[{key:"fromObject",value:function(e,a){var n={idFideicomiso:e.funiIdFideicomiso,idSubcuenta:e.funiIdSubcuenta,idBien:e.funiIdBien,cveGarantia:e.forsCveTipoGarantia,idGarantia:e.funiIdGarantia,idEdificio:e.funiIdEdificio,idDepto:e.funiIdDepto,calleYNumero:e.funiCalleNum,precio:e.funiPrecio,moneda:e.funiMoneda,status:e.funiStatus},i=[n.idFideicomiso,n.idSubcuenta,n.idBien,n.idEdificio,n.idDepto].join("-");return Object.assign(new t(i),n)}}]),t}($.a),He=new(function(){function e(){Object(G.a)(this,e)}return Object(q.a)(e,[{key:"fromObject",value:function(e){var a=X.b.toDates([e.funiFechaUltimoAvaluo,e.funiFechaTrasladoDominio,e.funiFechaReversion]),t=Object(u.a)(a,3),n=t[0],i=t[1],r=t[2],o=new M.a(e.funiIdFideicomiso,e.funiIdSubcuenta,e.funiIdBien,e.funiIdEdificio,e.funiIdDepto);return Object.assign(o,{tipo:e.funiTipo,niveles:e.funiNiveles,calleYNumero:e.funiCalleNum,nombreColonia:e.funiNomColonia,nombrePoblacion:e.funiNomPoblacion,codigoPostal:e.funiCodigoPostal,numeroEstado:e.funiClaveEstado,numeroPais:e.funiClavePais,colindancias:e.funiColindancias,medidas:e.funiMedidas,precio:e.funiPrecio,ultimoAvaluo:e.funiUltimoAvaluo,fechaUltimoAvaluo:n,moneda:e.funiMoneda,numeroNotario:e.funiNotario,nombreNotario:e.funiNombreNotario,nombreAdquiriente:e.funiNombreAdquiriente,localidadNotaria:e.funiLocalidadNota,numeroEscritura:e.funiNumEscritura,folioReal:e.funiFolioReal,fechaTrasladoDominio:i,status:e.funiStatus,estacionamiento1:e.funiEstacionamiento1,superficie1:e.funiSuperficie1,estacionamiento2:e.funiEstacionamiento2,superficie2:e.funiSuperficie2,estacionamiento3:e.funiEstacionamiento3,superficie3:e.funiSuperficie3,roofGarden:e.funiRoofGarden,roofSuperficie:e.funiRoofSuperficie,sotano:e.funiSotano,sotanoSuperficie:e.funiSotanoSuperficie,indiviso:e.funiIndiviso,numeroCatastro:e.funiNumeroCatastro,precioCatastro:e.funiPrecioCatastro,acto1:e.funiActo1,acto2:e.funiActo2,acto3:e.funiActo3,acto4:e.funiActo4,fechaReversion:r,cveGrahipo:e.funiCveGrahipo,numeroHipoteca:e.funiNumHipoteca,aFavor:e.funiAFavor,nombreFideicomiso:e.funiNomFideicomiso}),o}},{key:"toObject",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return{funiIdFideicomiso:e.idFideicomiso,funiIdSubcuenta:e.idSubcuenta,funiIdBien:e.idBien,funiIdEdificio:e.idEdificio,funiIdDepto:e.idDepto};var t=X.b.fromDates([e.fechaUltimoAvaluo,e.fechaTrasladoDominio,e.fechaReversion]),n=Object(u.a)(t,3),i=n[0],r=n[1],o=n[2];return{funiIdFideicomiso:e.idFideicomiso,funiIdSubcuenta:e.idSubcuenta,funiIdBien:e.idBien,funiIdEdificio:e.idEdificio,funiIdDepto:e.idDepto,funiTipo:e.tipo,funiNiveles:e.niveles,funiCalleNum:e.calleYNumero,funiNomColonia:e.nombreColonia,funiNomPoblacion:e.nombrePoblacion,funiCodigoPostal:e.codigoPostal,funiClaveEstado:e.numeroEstado,funiClavePais:e.numeroPais,funiColindancias:e.colindancias,funiMedidas:e.medidas,funiPrecio:e.precio,funiUltimoAvaluo:e.ultimoAvaluo,funiFechaUltimoAvaluo:i,funiMoneda:e.moneda,funiNotario:e.numeroNotario,funiNombreNotario:e.nombreNotario,funiNombreAdquiriente:e.nombreAdquiriente,funiLocalidadNota:e.localidadNotaria,funiNumEscritura:e.numeroEscritura,funiFolioReal:e.folioReal,funiFechaTrasladoDominio:r,funiStatus:e.status,funiEstacionamiento1:e.estacionamiento1,funiSuperficie1:e.superficie1,funiEstacionamiento2:e.estacionamiento2,funiSuperficie2:e.superficie2,funiEstacionamiento3:e.estacionamiento3,funiSuperficie3:e.superficie3,funiRoofGarden:e.roofGarden,funiRoofSuperficie:e.roofSuperficie,funiSotano:e.sotano,funiSotanoSuperficie:e.sotanoSuperficie,funiIndiviso:e.indiviso,funiNumeroCatastro:e.numeroCatastro,funiPrecioCatastro:e.precioCatastro,funiActo1:e.acto1,funiActo2:e.acto2,funiActo3:e.acto3,funiActo4:e.acto4,funiFechaReversion:o,funiCveGrahipo:e.cveGrahipo,funiNumHipoteca:e.numeroHipoteca,funiAFavor:e.aFavor,funiNomFideicomiso:e.nombreFideicomiso}}}]),e}());function We(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var Ye=new(function(e){Object(z.a)(t,e);var a=We(t);function t(){return Object(G.a)(this,t),a.apply(this,arguments)}return Object(q.a)(t,[{key:"getModelFromResultRow",value:function(e){return new M.a(e.idFideicomiso,e.idSubcuenta,e.idBien,e.idEdificio,e.idDepto)}},{key:"exists",value:function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRef("qryConsultaUnidadesBusqueda",{numFideicomiso:a.idFideicomiso,idDepto:a.idDepto,calle:a.calleYNumero,estatus:a.status,numCatasttro:a.numeroCatastro,estado:a.estado,municipio:a.municipio,escriturado:a.escriturado?"SI":"NO",fechaEscritura:a.fechaEscritura?X.b.fromDate(a.fechaEscritura):null},ze.fromObject);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(Y.b))(He);function Ke(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var $e,Je=function(e){Object(z.a)(t,e);var a=Ke(t);function t(){return Object(G.a)(this,t),a.call(this,Ye)}return Object(q.a)(t,[{key:"fetchFullModel",value:function(){var e=Object(c.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return t=new M.a(a.idFideicomiso,a.idSubcuenta,a.idBien,a.idEdificio,a.idDepto),e.next=5,Ye.findByPK(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}]),t}(Ve.a),Ze=i.a.createElement,Xe={searchParameters:{idFideicomiso:null,idDepto:"",calleYNumero:"",status:"",numeroCatastro:null,estado:"",municipio:"",escriturado:!1,fechaEscritura:null},searchResults:[],selectedRow:null,currentModel:new M.a(null,null,null,null,null),modalMode:y.a.Alta,modalOpen:!1,isLoadingModel:!1,savingStatus:y.b.Initial,modalErrorMessage:null},Qe=function(){var e=Object(Ve.d)(Ge,Xe,new Je),a=Object(u.a)(e,2),t=a[0],n=a[1];return Ze(i.a.Fragment,null,Ze(b.a.Provider,{value:n.tableCallbacks},Ze(ge,{data:t.searchResults,onSearch:n.onSearch})),Ze(ke,{mode:t.modalMode,open:t.modalOpen,model:t.currentModel,isLoading:t.isLoadingModel,savingStatus:t.savingStatus,errorMessage:t.modalErrorMessage,onClose:n.onCloseModal,onSaveRequest:n.onSave}))},ea=t("kKAo"),aa=t("ofer"),ta=t("PX8c"),na=t.n(ta),ia=function e(a,t,n){Object(G.a)(this,e),Object(A.a)(this,"idFideicomiso",null),Object(A.a)(this,"tipoCarga",null),Object(A.a)(this,"file",null),this.idFideicomiso=a,this.tipoCarga=t,this.file=n},ra=t("+0z1");function oa(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}!function(e){e[e.Indovidualiacion=1]="Indovidualiacion",e[e.Liberacion=2]="Liberacion"}($e||($e={}));var ca=new(function(e){Object(z.a)(t,e);var a=oa(t);function t(){return Object(G.a)(this,t),a.call(this,{})}return Object(q.a)(t,[{key:"aplicaCargaMasiva",value:function(){var e=Object(c.a)(o.a.mark((function e(a){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.file,n=Object(he.a)(a,["file"]),e.next=3,this.uploadFilesWithProcessor([t],"mx.gob.nafin.fiduciario.business.upload.processors.CargaMasivaBienesImpl",n);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(Y.a)),ua=t("EnIz"),sa=t("PMaP"),la=i.a.createElement,da=new w.a,fa=da.FormTextField,ma=da.FormFileField,ba=da.FormRadioGroupField,pa=Object(s.a)((function(e){return{root:{width:"70%",margin:"0 auto"},rowSpacing:{marginBottom:e.spacing(2)},paper:{padding:e.spacing(2)}}})),Oa=new D.b({idFideicomiso:D.a.validateFideicomiso,tipoCarga:D.a.validateRequiredNumber("Tipo carga"),file:D.a.validateFile("Archivo de carga")}),va=new ia(null,null,null),ja={isInitialState:!0,isSaving:!1,error:null};var Sa,ga=i.a.createElement,ha=[{field:"idFideicomiso",header:"Fideicomiso"},{field:"tipoBien",header:"Tipo de Bien"},{field:"importeBien",header:"Importe Actualizado",numeric:!0},{field:"importeBienGarantizado",header:"Importe",numeric:!0},{field:"claveEstatus",header:"Estatus"}],Ea=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),ya={idFideicomiso:null,idSubcuenta:null,idTipoBien:null},Ra=function(e){var a=e.data,t=e.onSearch,n=Ea(),i=Object(d.a)(ya),r=Object(u.a)(i,2),o=r[0],c=r[1];return ga("div",null,ga(l.a,{container:!0,spacing:1,direction:"column",className:n.rowSpacing},ga(m.a,{onSearch:function(){t(o)},onClear:function(){return c({type:"clear",initialState:ya})}},ga(l.a,{container:!0,spacing:1,direction:"column"},ga(l.a,{container:!0,className:n.rowSpacing,spacing:4},ga(l.a,{item:!0,xs:3},ga(p.a,{label:"Id Fideicomiso",value:o.idFideicomiso,dataType:"number",onChange:function(e){return c({type:"field",fieldName:"idFideicomiso",value:e.target.value})}})),ga(l.a,{item:!0,xs:9},ga(l.a,{container:!0,alignItems:"center"},ga("span",null)))),ga(l.a,{container:!0,spacing:4},ga(l.a,{item:!0,xs:3},ga(p.a,{label:"Id Subcuenta",value:o.idSubcuenta,dataType:"number",onChange:function(e){return c({type:"field",fieldName:"idSubcuenta",value:e.target.value})}})),ga(l.a,{item:!0,xs:3},ga(O.a,{label:"Tipo de bien",catalogId:f.a.TiposDeBienes,value:o.idTipoBien,fullWidth:!0,onChange:function(e){return c({type:"field",fieldName:"idTipoBien",value:e.target.value})}})))))),ga(l.a,{container:!0,spacing:1},ga(b.b,{title:"Bienes",data:a,columns:ha,multipleSelect:!1})))},wa=t("PsDL"),Da=t("FrwU"),Na=t.n(Da),Ca=t("MPUk"),xa=t.n(Ca),Ta=t("1waj"),Ba=t.n(Ta),Fa=t("H53d"),Ia=t.n(Fa),Ma=t("csfp"),Aa=t("rfjm"),_a=t.n(Aa),Pa=Object(n.createContext)({onNew:function(){},onView:function(){},onModify:function(){},onDelete:function(){},onRevaluacion:function(){}}),La=i.a.createElement,ka=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),Va=[{field:"idFideicomiso",header:"Fideicomiso"},{field:"idDetalleBien",header:"Id Detalle Bien"},{field:"tipoBien",header:"Clasificacion"},{field:"importeUltimaValuacion",header:"Importe Ult. Valuaci\xf3n",numeric:!0},{field:"descripcion",header:"Descripci\xf3n"}],Ua=function(e){var a=e.numSelected,t=Object(n.useContext)(Pa),r=t.onNew,o=t.onView,c=t.onModify,u=t.onRevaluacion,s=t.onDelete;return La(i.a.Fragment,null,a>0?La(Ma.a,{title:"Salida de bien"},La(wa.a,{onClick:s},La(Na.a,null))):null,1==a?La(Ma.a,{title:"Reevaluaci\xf3n"},La(wa.a,{onClick:u},La(_a.a,null))):null,1==a?La(Ma.a,{title:"Modificar"},La(wa.a,{onClick:c},La(xa.a,null))):null,1==a?La(Ma.a,{title:"Consultar"},La(wa.a,{onClick:o},La(Ia.a,null))):null,0===a?La(Ma.a,{title:"Registro de bien"},La(wa.a,{onClick:r},La(Ba.a,null))):null)},Ga=function(e){var a=e.data,t=e.showActionsHeader,n=e.onSelect,i=ka();return La("div",null,La(l.a,{container:!0,spacing:1,direction:"column",className:i.rowSpacing},La(b.b,{title:"Detalle de bienes",data:a,columns:Va,showActionsHeader:t,additionalActionsComponent:Ua,onSelect:n})))},qa=t("kbid"),za=i.a.createElement,Ha=new w.a,Wa=Ha.FormTextField,Ya=Ha.FormCatalogSelectField,Ka=Ha.FormDatePickerField,$a=Ha.FormSwitchField,Ja=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}})),Za=new D.b({idFideicomiso:D.a.validateFideicomiso,idSubcuenta:D.a.validateSubcuenta,idTipoBien:D.a.validateRequiredNumber("El tipo de bien es un campo requerido")}),Xa=function(e){var a=e.onChangeFideicomiso,t=Object(he.a)(e,["onChangeFideicomiso"]),n=Object(E.c)().values.idFideicomiso;return i.a.useEffect((function(){n&&a(n)}),[n]),za(Wa,t)},Qa=function(e){var a=e.mode,t=e.model,n=e.open,i=e.errorMessage,r=e.savingStatus,o=e.onClose,c=e.onSaveRequest,s=Ja(),d=ye([n]),m=Object(u.a)(d,2),b=m[0],p=m[1],O=a===y.a.Consulta,v=O||a===y.a.Modificacion;return za(E.a,{initialValues:t,onSubmit:c,enableReinitialize:!0,validationSchema:Za.validationSchema},(function(e){return za(R.a,{opened:n,operacionCatalogo:a,nombreCatalogo:"Bienes",subtitle:"Bienes por Fideicomisos",onCancel:function(){e.resetForm(),o()},onAccept:e.handleSubmit,errorMessage:i,saving:r===y.b.Saving,success:r===y.b.Success},za(l.a,{container:!0,spacing:1,direction:"column",className:s.rowSpacing},za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Xa,{name:"idFideicomiso",label:"Numero Fideicomiso",helperText:"Fideicomiso a asignar bienes",disabled:v,dataType:"text",onChangeFideicomiso:p})),za(l.a,{item:!0,xs:6},za(Wa,{name:"nombreFideicomiso",label:"Nombre de Fideicomiso",disabled:O,defaultValue:b}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Wa,{name:"idSubcuenta",label:"Subcuenta",helperText:"SubFiso",disabled:v,dataType:"text"})),za(l.a,{item:!0,xs:6},za(Ya,{name:"idTipoBien",catalogId:f.a.TiposDeBienes,label:"Tipo de Bien",disabled:v}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Wa,{name:"importeDelBien",label:"Importe Actualizado",disabled:O,dataType:"text",adornment:"$"})),za(l.a,{item:!0,xs:6},za(Wa,{name:"descripcion",label:"Descripci\xf3n",disabled:O}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Wa,{name:"importeUltimaValuacion",label:"Importe \xdaltima Valuaci\xf3n",disabled:O,dataType:"text",adornment:"$"})),za(l.a,{item:!0,xs:6},za(Wa,{name:"comentario",label:"Comentario",disabled:O}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Ka,{name:"fechaUltimaValuacion",label:"Fecha de \xdaltima Valuaci\xf3n",disabled:O}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(qa.a,{label:"Revalua",disabled:O,onChange:function(){}})),za(l.a,{item:!0,xs:6},za($a,{name:"esGarantia",label:"\xbfEs Garant\xeda?",disabled:O}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Wa,{name:"importeDeGarantia",label:"Importe",disabled:O,dataType:"text",adornment:"$"})),za(l.a,{item:!0,xs:6},za(Wa,{name:"picnorado",label:"Picnorado",disabled:O,dataType:"text",adornment:"$"}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Ya,{name:"idClavePeriodicidadRevaluacion",catalogId:f.a.PeriodicidadDeRevaluacion,label:"Periodicidad",disabled:O})),za(l.a,{item:!0,xs:6},za(Ka,{name:"fechaInicio",label:"Fecha de Inicio",disabled:O}))),za(l.a,{container:!0,className:s.rowSpacing,spacing:3},za(l.a,{item:!0,xs:6},za(Ka,{name:"fechaFin",label:"Fecha de Salida",disabled:O})),za(l.a,{item:!0,xs:6},za(Ya,{name:"estatus",catalogId:f.a.Estatus,useLabelAsValue:!0,label:"Estatus",disabled:O,defaultValue:"ACTIVO"})))))}))},et=t("UGp+");!function(e){e[e.Registro=1]="Registro",e[e.Modificacion=2]="Modificacion",e[e.Revaluacion=3]="Revaluacion",e[e.Consulta=4]="Consulta",e[e.Salida=5]="Salida"}(Sa||(Sa={}));var at=i.a.createElement,tt=new w.a,nt=tt.FormTextField,it=tt.FormSelectField,rt=tt.FormCatalogSelectField,ot=tt.FormDatePickerField,ct=Object(s.a)((function(e){return{rowSpacing:{marginBottom:e.spacing(2)}}}));function ut(e){switch(e){case Sa.Registro:return y.a.Alta;case Sa.Modificacion:case Sa.Revaluacion:return y.a.Modificacion;case Sa.Consulta:return y.a.Consulta;default:return y.a.Baja}}var st=function(e){var a=e.mode,t=e.model,i=e.open,r=e.errorMessage,o=e.savingStatus,c=e.onClose,u=e.onSaveRequest,s=e.onRevaluacion,d=a===Sa.Revaluacion;var m=Object(n.useMemo)((function(){return d?new D.b({datosRevaluacion:et.d().shape({importeRevaluacion:D.a.validateRequiredNumber("Importe"),fechaRevaluacion:et.a().required(D.a.requiredFieldMessage("Fecha Revaluacion"))})}):new D.b({model:et.d().shape({idTipoDetalleBien:D.a.validateRequiredNumber("Tipo de bien"),importeDelBien:D.a.validateRequiredNumber("Importe del bien"),idMoneda:D.a.validateRequiredNumber("Moneda")})})}),[d]),b=Object(n.useState)([]),p=b[0],O=b[1],v=ct(),j=a===Sa.Consulta||a===Sa.Revaluacion,S=a!==Sa.Registro,g=a===Sa.Consulta||a!==Sa.Revaluacion;Object(n.useEffect)((function(){xe.fetchAll().then((function(e){O(e)}))}),[]);var h={model:t,datosRevaluacion:{importeRevaluacion:null,fechaRevaluacion:new Date}};return at(E.a,{initialValues:h,onSubmit:function(e){d?s(e.model,e.datosRevaluacion):u(e.model)},enableReinitialize:!0,validationSchema:m.validationSchema},(function(e){return at(R.a,{opened:i,operacionCatalogo:ut(a),nombreCatalogo:"Detalle Bienes",subtitle:"Detalle del Bien",onCancel:function(){e.resetForm(),c()},onAccept:e.handleSubmit,errorMessage:r,saving:o===y.b.Saving,success:o===y.b.Success},at(l.a,{container:!0,spacing:1,direction:"column",className:v.rowSpacing},at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"idFideicomiso",label:"Fideicomiso",dataType:"text",disabled:!0})),at(l.a,{item:!0,xs:6},at(rt,{namespace:"model",name:"idTipoBien",catalogId:f.a.TiposDeBienes,label:"Tipo Bien",disabled:!0}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"idSubcuenta",label:"Subcuenta",disabled:!0})),at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"idDetalleBien",label:"Id Detalle Bien",disabled:!0}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(rt,{namespace:"model",name:"idTipoDetalleBien",parentCatalogId:f.a.TiposDeBienes,parentValue:e.values.model.idTipoBien,label:"Clave de Bien",disabled:S}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"idRegimen",label:"Bajo Regimen en Condominio",disabled:j})),at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"importeDelBien",label:"Importe",dataType:"text",adornment:"$",disabled:j}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:12},at(nt,{namespace:"model",name:"descripcion",label:"Descripci\xf3n",disabled:j,multiline:!0,rows:3,rowsMax:3}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"importeUltimaValuacion",label:"Importe \xdaltima Valuaci\xf3n",dataType:"text",adornment:"$",disabled:!0})),at(l.a,{item:!0,xs:6},at(it,{namespace:"model",name:"idMoneda",items:p,valueKey:"idPais",labelKey:"nombreMoneda",label:"Moneda",disabled:j}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(ot,{namespace:"model",name:"fechaUltimaValuacion",label:"Fecha \xdaltima Valuaci\xf3n",disabled:!0}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"numeroEscritura",label:"Escritura",disabled:j}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"comentario",label:"Comentario",disabled:j})),at(l.a,{item:!0,xs:6},at(nt,{namespace:"model",name:"numeroNotario",label:"Notario",disabled:j}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(rt,{namespace:"model",name:"claveEstatus",catalogId:f.a.Estatus,useLabelAsValue:!0,label:"Estatus",disabled:j}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(qa.a,{label:"Revalua",checked:a===Sa.Revaluacion,disabled:g}))),at(l.a,{container:!0,className:v.rowSpacing,spacing:3},at(l.a,{item:!0,xs:6},at(nt,{namespace:"datosRevaluacion",name:"importeRevaluacion",label:"Importe Revaluaci\xf3n",dataType:"text",adornment:"$",disabled:g})),at(l.a,{item:!0,xs:6},at(ot,{namespace:"datosRevaluacion",name:"fechaRevaluacion",label:"Fecha Revaluaci\xf3n",disabled:g})))))}))},lt=t("PW/F");function dt(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var ft=function(e){Object(z.a)(t,e);var a=dt(t);function t(e,n,i){var r;return Object(G.a)(this,t),r=a.call(this),Object(A.a)(Object(K.a)(r),"backendModelReference","mx.com.inscitech.fiducia.domain.FGarantias"),Object(A.a)(Object(K.a)(r),"idFideicomiso",null),Object(A.a)(Object(K.a)(r),"idSubcuenta",null),Object(A.a)(Object(K.a)(r),"idTipoBien",null),Object(A.a)(Object(K.a)(r),"descripcion",""),Object(A.a)(Object(K.a)(r),"comentario",""),Object(A.a)(Object(K.a)(r),"idClaveRevaluacion",null),Object(A.a)(Object(K.a)(r),"importeDeGarantia",0),Object(A.a)(Object(K.a)(r),"importeDelBien",0),Object(A.a)(Object(K.a)(r),"picnorado",null),Object(A.a)(Object(K.a)(r),"importeUltimaValuacion",0),Object(A.a)(Object(K.a)(r),"idClavePeriodicidadRevaluacion",null),Object(A.a)(Object(K.a)(r),"fechaUltimaValuacion",null),Object(A.a)(Object(K.a)(r),"fechaInicio",null),Object(A.a)(Object(K.a)(r),"fechaFin",null),Object(A.a)(Object(K.a)(r),"estatus",null),Object(A.a)(Object(K.a)(r),"esGarantia",!1),Object(A.a)(Object(K.a)(r),"nombreFideicomiso",""),r.idFideicomiso=e,r.idSubcuenta=n,r.idTipoBien=i,r}return Object(q.a)(t,[{key:"getPKValues",value:function(){return{idFideicomiso:this.idFideicomiso,idSubcuenta:this.idSubcuenta,idTipoBien:this.idTipoBien}}}]),t}(lt.a);function mt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function bt(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?mt(Object(t),!0).forEach((function(a){Object(A.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mt(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function pt(e,a){switch(a.type){case"SET_BIENES_SEARCH_PARAMETERS":return bt(bt({},e),{},{searchParameters:a.searchParameters,selectedRow:null});case"SET_BIENES_SEARCH_RESULTS":return bt(bt({},e),{},{searchResults:a.results});case"SET_BIENES_ROWS_SELECTION":var t=a.selectedRow;return bt(bt({},e),{},{selectedRow:a.selectedRow,currentModel:new ft(t.idFideicomiso,t.idSubcuenta,t.idTipoBien)});case"SET_BIEN_MODEL":return bt(bt({},e),{},{currentModel:a.model});case"OPEN_BIENES_MODAL":var n=e.currentModel,i=a.mode===y.a.Consulta||a.mode===y.a.Modificacion,r=a.mode===y.a.Alta;return r&&(n=new ft(null,null,null)),r||i&&e.selectedRow?bt(bt({},e),{},{modalOpen:!0,modalMode:a.mode,savingStatus:y.b.Initial,currentModel:n}):e;case"CLOSE_BIENES_MODAL":return bt(bt({},e),{},{modalOpen:!1});case"SAVE_BIEN_MODEL":return bt(bt({},e),{},{savingStatus:y.b.Saving,modalErrorMessage:null});case"SET_MODEL_SAVE_SUCCESS":var o=e.modalMode;return o===y.a.Alta&&(o=y.a.Modificacion),bt(bt({},e),{},{savingStatus:y.b.Success,modalMode:o});case"SET_MODEL_SAVE_ERROR":return bt(bt({},e),{},{savingStatus:y.b.Error,modalErrorMessage:a.error});default:return e}}function Ot(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function vt(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ot(Object(t),!0).forEach((function(a){Object(A.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ot(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function jt(e,a){switch(a.type){case"SET_DETALLE_BIENES_SEARCH_RESULTS":return vt(vt({},e),{},{searchResults:a.results});case"SET_DETALLE_BIENES_ROWS_SELECTION":return vt(vt({},e),{},{selectedRows:a.selectedRows});case"SET_DETALLE_BIEN_MODEL":return vt(vt({},e),{},{currentModel:a.model});case"OPEN_NEW_DETALLE_BIENES_MODAL":return vt(vt({},e),{},{modalOpen:!0,modalMode:Sa.Registro,currentModel:a.newModel});case"OPEN_DETALLE_BIENES_MODAL":return 1===e.selectedRows.length?vt(vt({},e),{},{modalOpen:!0,modalMode:a.mode}):e;case"CLOSE_DETALLE_BIENES_MODAL":return vt(vt({},e),{},{modalOpen:!1});case"SAVE_DETALLE_BIEN_MODEL":return vt(vt({},e),{},{savingStatus:y.b.Saving,modalErrorMessage:null});case"SET_DETALLE_BIEN_MODEL_SAVE_SUCCESS":var t=e.modalMode;return t===Sa.Registro&&(t=Sa.Modificacion),vt(vt({},e),{},{savingStatus:y.b.Success,modalMode:t});case"SET_DETALLE_BIEN_MODEL_SAVE_ERROR":return vt(vt({},e),{},{savingStatus:y.b.Error,modalErrorMessage:a.error});default:return e}}function St(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function gt(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?St(Object(t),!0).forEach((function(a){Object(A.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):St(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ht(e,a){switch(a.type){case"SET_BIENES_SEARCH_RESULTS":return{bienes:pt(e.bienes,a),detalleBienes:gt(gt({},e.detalleBienes),{},{showActionsToolbar:!1,searchResults:[]})};case"SELECT_BIENES_RESULT_ROW":return{bienes:pt(e.bienes,gt(gt({},a),{},{type:"SET_BIENES_ROWS_SELECTION"})),detalleBienes:gt(gt({},e.detalleBienes),{},{searchResults:a.detalleBienesSearchResults,showActionsToolbar:!0})};default:return{bienes:pt(e.bienes,a),detalleBienes:jt(e.detalleBienes,a)}}}function Et(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var yt=function(e){Object(z.a)(t,e);var a=Et(t);function t(){var e;Object(G.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),Object(A.a)(Object(K.a)(e),"idFideicomiso",null),Object(A.a)(Object(K.a)(e),"idSubcuenta",null),Object(A.a)(Object(K.a)(e),"idTipoBien",null),Object(A.a)(Object(K.a)(e),"tipoBien",""),Object(A.a)(Object(K.a)(e),"claveEstatus",""),Object(A.a)(Object(K.a)(e),"bienDisponible",""),Object(A.a)(Object(K.a)(e),"importeBien",null),Object(A.a)(Object(K.a)(e),"importeBienGarantizado",null),Object(A.a)(Object(K.a)(e),"importePagosBien",null),Object(A.a)(Object(K.a)(e),"numeroEscritura",""),e}return Object(q.a)(t,null,[{key:"fromObject",value:function(e){var a={idFideicomiso:e.fgarIdFideicomiso,idSubcuenta:e.fgarIdSubcuenta,idTipoBien:e.fgarCveGarantia,tipoBien:e.descripcionTipoBien,claveEstatus:e.fgarCveStatus,bienDisponible:e.importeBienDisponible,importeBien:e.fgarImpGarantia,importeBienGarantizado:e.fgarImpGarantizad,importePagosBien:e.pagosBien,numeroEscritura:e.ctoNumEscritura},n=[a.idFideicomiso,a.idSubcuenta,a.idTipoBien].join("-");return Object.assign(new t(n),a)}}]),t}($.a),Rt=new(function(){function e(){Object(G.a)(this,e)}return Object(q.a)(e,[{key:"fromObject",value:function(e){var a=X.b.toDates([e.fgarFecUltValua,e.fgarFecInicio,e.fgarFecFin]),t=Object(u.a)(a,3),n=t[0],i=t[1],r=t[2],o=new ft(e.fgarIdFideicomiso,e.fgarIdSubcuenta,e.fgarCveGarantia);return Object.assign(o,{descripcion:e.fgarTexGarantia,comentario:e.fgarTexComentario,idClaveRevaluacion:e.fgarCveRevalua,importeDeGarantia:e.fgarImpGarantia,importeDelBien:e.fgarImpGarantizad,picnorado:e.fgarPjePicnorado,importeUltimaValuacion:e.fgarImpUltValua,idClavePeriodicidadRevaluacion:e.fgarCvePerValua,fechaUltimaValuacion:n,fechaInicio:i,fechaFin:r,estatus:e.fgarCveStatus,esGarantia:Boolean(e.fgarEsGarantia),nombreFideicomiso:e.fgarNomFideicomiso}),o}},{key:"toObject",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return{fgarIdFideicomiso:e.idFideicomiso,fgarIdSubcuenta:e.idSubcuenta,fgarCveGarantia:e.idTipoBien};var t=X.b.fromDates([e.fechaUltimaValuacion,e.fechaInicio,e.fechaFin]),n=Object(u.a)(t,3),i=n[0],r=n[1],o=n[2];return{fgarIdFideicomiso:e.idFideicomiso,fgarIdSubcuenta:e.idSubcuenta,fgarCveGarantia:e.idTipoBien,fgarTexGarantia:e.descripcion,fgarTexComentario:e.comentario,fgarCveRevalua:e.idClaveRevaluacion,fgarImpGarantia:e.importeDeGarantia,fgarImpGarantizad:e.importeDelBien,fgarPjePicnorado:e.picnorado,fgarImpUltValua:e.importeUltimaValuacion,fgarCvePerValua:e.idClavePeriodicidadRevaluacion,fgarFecUltValua:i,fgarFecInicio:r,fgarFecFin:o,fgarCveStatus:e.estatus,fgarEsGarantia:e.esGarantia?1:0,fgarNomFideicomiso:e.nombreFideicomiso}}}]),e}());function wt(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var Dt=new(function(e){Object(z.a)(t,e);var a=wt(t);function t(){return Object(G.a)(this,t),a.apply(this,arguments)}return Object(q.a)(t,[{key:"getModelFromResultRow",value:function(e){return new ft(e.idFideicomiso,e.idSubcuenta,e.idTipoBien)}},{key:"exists",value:function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.idFideicomiso&&null!==a.idSubcuenta&&void 0!==a.idSubcuenta&&a.idTipoBien){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.getRef("qryExisteBien",{idFideicomiso:a.idFideicomiso,idSubcuenta:a.idSubcuenta,idTipoBien:a.idTipoBien},(function(e){return e})).then((function(e){return e[0].numRegistros>=1}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRef("funRegistroGarantias",{IdFideicomiso:a.idFideicomiso,Subfiso:a.idSubcuenta,Garantia:a.idTipoBien},yt.fromObject);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(Y.b))(Rt);function Nt(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var Ct=function(e){Object(z.a)(t,e);var a=Nt(t);function t(){var e;Object(G.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=a.call.apply(a,[this].concat(i)),Object(A.a)(Object(K.a)(e),"idFideicomiso",null),Object(A.a)(Object(K.a)(e),"idSubcuenta",null),Object(A.a)(Object(K.a)(e),"idTipoBien",null),Object(A.a)(Object(K.a)(e),"tipoBien",""),Object(A.a)(Object(K.a)(e),"idDetalleBien",null),Object(A.a)(Object(K.a)(e),"idTipoDetalleBien",null),Object(A.a)(Object(K.a)(e),"importeUltimaValuacion",null),Object(A.a)(Object(K.a)(e),"descripcion",""),e}return Object(q.a)(t,null,[{key:"fromObject",value:function(e,a){var n={idFideicomiso:e.fgrsIdFideicomiso,idSubcuenta:e.fgrsIdSubcuenta,idTipoBien:e.forsCveTipoGarantia,tipoBien:e.descripbien,idDetalleBien:e.forsIdGarantia,idTipoDetalleBien:e.forsCveTipoBien,importeUltimaValuacion:e.forsImpUltValua,descripcion:e.forsTextoDescrip},i=[n.idFideicomiso,n.idSubcuenta,n.idTipoBien,n.tipoBien,n.idDetalleBien].join("-");return Object.assign(new t(i),n)}}]),t}($.a);function xt(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var Tt=function(e){Object(z.a)(t,e);var a=xt(t);function t(e,n,i,r,o){var c;return Object(G.a)(this,t),c=a.call(this),Object(A.a)(Object(K.a)(c),"backendModelReference","mx.com.inscitech.fiducia.domain.FBienesgar"),Object(A.a)(Object(K.a)(c),"idFideicomiso",null),Object(A.a)(Object(K.a)(c),"idSubcuenta",null),Object(A.a)(Object(K.a)(c),"idTipoBien",null),Object(A.a)(Object(K.a)(c),"idDetalleBien",null),Object(A.a)(Object(K.a)(c),"idTipoDetalleBien",null),Object(A.a)(Object(K.a)(c),"identificacion",""),Object(A.a)(Object(K.a)(c),"descripcion",""),Object(A.a)(Object(K.a)(c),"comentario",""),Object(A.a)(Object(K.a)(c),"importeDelBien",null),Object(A.a)(Object(K.a)(c),"idMoneda",null),Object(A.a)(Object(K.a)(c),"idRevaluacion",null),Object(A.a)(Object(K.a)(c),"idClavePeriodicidadRevaluacion",""),Object(A.a)(Object(K.a)(c),"importeUltimaValuacion",null),Object(A.a)(Object(K.a)(c),"fechaUltimaValuacion",null),Object(A.a)(Object(K.a)(c),"fechaVencimiento",null),Object(A.a)(Object(K.a)(c),"numeroEscritura",""),Object(A.a)(Object(K.a)(c),"numeroNotario",""),Object(A.a)(Object(K.a)(c),"claveEstatus",""),Object(A.a)(Object(K.a)(c),"idRegimen",null),c.idFideicomiso=e,c.idSubcuenta=n,c.idTipoBien=i,c.idDetalleBien=r,c.idTipoDetalleBien=o,c}return Object(q.a)(t,[{key:"getPKValues",value:function(){return{idFideicomiso:this.idFideicomiso,idSubcuenta:this.idSubcuenta,idTipoBien:this.idTipoBien,idDetalleBien:this.idDetalleBien,idTipoDetalleBien:this.idTipoDetalleBien}}}]),t}(lt.a),Bt=new(function(){function e(){Object(G.a)(this,e)}return Object(q.a)(e,[{key:"fromObject",value:function(e){var a=X.b.toDates([e.forsFecUltValua,e.forsFecVencimiento]),t=Object(u.a)(a,2),n=t[0],i=t[1],r=new Tt(e.fgrsIdFideicomiso,e.fgrsIdSubcuenta,e.forsCveTipoGarantia,e.forsIdGarantia,e.forsCveTipoBien);return Object.assign(r,{identificacion:e.forsIdentificacion,descripcion:e.forsTextoDescrip,comentario:e.forsTexComentario,importeDelBien:e.forsImpBien,idMoneda:e.forsMoneda,idRevaluacion:e.forsCveRevalua,idClavePeriodicidadRevaluacion:e.forsCvePerValua,importeUltimaValuacion:e.forsImpUltValua,fechaUltimaValuacion:n,fechaVencimiento:i,numeroEscritura:e.forsNumEscritura,numeroNotario:e.forsNumNotario,claveEstatus:e.forsCveStatus,idRegimen:e.forsRegimen}),r}},{key:"toObject",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return{fgrsIdFideicomiso:e.idFideicomiso,fgrsIdSubcuenta:e.idSubcuenta,forsCveTipoGarantia:e.idTipoBien,forsIdGarantia:e.idDetalleBien,forsCveTipoBien:e.idTipoDetalleBien};var t=X.b.fromDates([e.fechaUltimaValuacion,e.fechaVencimiento]),n=Object(u.a)(t,2),i=n[0],r=n[1];return{fgrsIdFideicomiso:e.idFideicomiso,fgrsIdSubcuenta:e.idSubcuenta,forsCveTipoGarantia:e.idTipoBien,forsIdGarantia:e.idDetalleBien,forsCveTipoBien:e.idTipoDetalleBien,forsIdentificacion:e.identificacion,forsTextoDescrip:e.descripcion,forsTexComentario:e.comentario,forsImpBien:e.importeDelBien,forsMoneda:e.idMoneda,forsCveRevalua:e.idRevaluacion,forsCvePerValua:e.idClavePeriodicidadRevaluacion,forsImpUltValua:e.importeUltimaValuacion,forsFecUltValua:i,forsFecVencimiento:r,forsNumEscritura:e.numeroEscritura,forsNumNotario:e.numeroNotario,forsCveStatus:e.claveEstatus,forsRegimen:e.idRegimen}}}]),e}());function Ft(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(W.a)(e);if(a){var i=Object(W.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return Object(H.a)(this,t)}}var It=new(function(e){Object(z.a)(t,e);var a=Ft(t);function t(){return Object(G.a)(this,t),a.apply(this,arguments)}return Object(q.a)(t,[{key:"find",value:function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRef("consultarBienesGar",{Fiso:a.idFideicomiso,Subfiso:a.idSubcuenta,CveTipoGar:a.idTipoBien},Ct.fromObject);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"executeCrudOperation",value:function(){var e=Object(c.a)(o.a.mark((function e(a,t,n){var i,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t===Sa.Revaluacion,r={detalleBien:JSON.stringify(Bt.toObject(a,i)),tipoOperacion:t,importeValuacion:n?n.importeRevaluacion:null,fechaValuacion:n?X.b.fromDate(n.fechaRevaluacion):null},e.prev=2,e.next=5,this.executeRemoteMethod("funEjecutaOperacionDetalleBienes",r);case 5:return c=e.sent,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("Los datos fueron guardados pero el proceso no fue completado. Intente nuevamente");case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"executeMultipleDeleteOperation",value:function(){var e=Object(c.a)(o.a.mark((function e(a){var t,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.reduce((function(e,a){return e.push(n.executeCrudOperation(a,Sa.Salida)),e}),[]),e.abrupt("return",this.handleBatchOperation(t,a));case 2:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(Y.b))(Bt);function Mt(e){return At.apply(this,arguments)}function At(){return(At=Object(c.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return t=new ft(a.idFideicomiso,a.idSubcuenta,a.idTipoBien),e.next=5,Dt.findByPK(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,a){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(c.a)(o.a.mark((function e(a,t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt.find(t);case 2:n=e.sent,a({type:"SET_BIENES_SEARCH_RESULTS",results:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,a){return kt.apply(this,arguments)}function kt(){return(kt=Object(c.a)(o.a.mark((function e(a,t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(),e.next=3,_t(a,n.bienes.searchParameters);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vt={selectBienesRow:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,It.find(e);case 2:n=a.sent,t({type:"SELECT_BIENES_RESULT_ROW",selectedRow:e,detalleBienesSearchResults:n});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},fetchAndDisplayModel:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t,n){var i,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=n(),a.next=3,Mt(i.bienes.selectedRow);case 3:null!==(r=a.sent)&&t({type:"SET_BIEN_MODEL",model:r}),t({type:"OPEN_BIENES_MODAL",mode:e});case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},newSearchBienes:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"SET_BIENES_SEARCH_PARAMETERS",searchParameters:e}),a.next=3,_t(t,e);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},saveModel:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t,n){var i,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=n(),t({type:"SAVE_BIEN_MODEL"}),a.prev=2,i.bienes.modalMode!==y.a.Alta){a.next=15;break}return r=e.idFideicomiso||-1,a.next=7,Ee.a.exists(r);case 7:if(a.sent){a.next=11;break}return t({type:"SET_MODEL_SAVE_ERROR",error:"El fideicomiso ".concat(r," no existe")}),a.abrupt("return");case 11:return a.next=13,Dt.create(e);case 13:a.next=17;break;case 15:return a.next=17,Dt.update(e);case 17:t({type:"SET_MODEL_SAVE_SUCCESS"}),Lt(t,n),a.next=24;break;case 21:a.prev=21,a.t0=a.catch(2),t({type:"SET_MODEL_SAVE_ERROR",error:a.t0.message});case 24:case"end":return a.stop()}}),a,null,[[2,21]])})));return function(e,t){return a.apply(this,arguments)}}()},deleteSelectedModel:function(){return function(){var e=Object(c.a)(o.a.mark((function e(a,t){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t()).bienes.selectedRow){e.next=3;break}return e.abrupt("return");case 3:return i=Dt.getModelFromResultRow(n.bienes.selectedRow),e.next=6,Dt.destroy(i);case 6:return e.next=8,Lt(a,t);case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}};function Ut(e,a){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(c.a)(o.a.mark((function e(a,t){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(),e.next=3,It.find(n.bienes.selectedRow);case 3:i=e.sent,a({type:"SET_DETALLE_BIENES_SEARCH_RESULTS",results:i});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(c.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return t=new Tt(a.idFideicomiso,a.idSubcuenta,a.idTipoBien,a.idDetalleBien,a.idTipoDetalleBien),e.next=5,It.findByPK(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ht={newDetalleBienes:function(){return function(){var e=Object(c.a)(o.a.mark((function e(a,t){var n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(),i=n.bienes.currentModel,r=new Tt(i.idFideicomiso,i.idSubcuenta,i.idTipoBien,null,null),a({type:"OPEN_NEW_DETALLE_BIENES_MODAL",mode:Sa.Registro,newModel:r});case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},fetchAndDisplayModel:function(e){return function(){var a=Object(c.a)(o.a.mark((function a(t,n){var i,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=n(),a.next=3,qt(i.detalleBienes.selectedRows[0]);case 3:null!==(r=a.sent)&&t({type:"SET_DETALLE_BIEN_MODEL",model:r}),t({type:"OPEN_DETALLE_BIENES_MODAL",mode:e});case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},saveModel:function(e,a){return function(){var t=Object(c.a)(o.a.mark((function t(n,i){var r,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i(),c=r.detalleBienes.modalMode,n({type:"SAVE_DETALLE_BIEN_MODEL"}),t.prev=3,c!==Sa.Registro){t.next=12;break}return t.next=7,It.executeCrudOperation(e,c);case 7:u=t.sent,e.idDetalleBien=u,n({type:"SET_DETALLE_BIEN_MODEL",model:e}),t.next=14;break;case 12:return t.next=14,It.executeCrudOperation(e,c,a);case 14:n({type:"SET_DETALLE_BIEN_MODEL_SAVE_SUCCESS"}),Ut(n,i),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),n({type:"SET_DETALLE_BIEN_MODEL_SAVE_ERROR",error:t.t0.message});case 21:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e,a){return t.apply(this,arguments)}}()},deleteSelectedModels:function(){return function(){var e=Object(c.a)(o.a.mark((function e(a,t){var n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t(),(i=n.detalleBienes.selectedRows).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(se.a)({title:"Esta seguro de continuar?",bodyText:"Esta a punto de eliminar eliminar ".concat(i.length," registros. Esta operacion no se puede revertir.")});case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:return r=i.map((function(e){return new Tt(e.idFideicomiso,e.idSubcuenta,e.idTipoBien,e.idDetalleBien,e.idTipoDetalleBien)})),e.next=12,It.executeMultipleDeleteOperation(r);case 12:return e.next=14,Ut(a,t);case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}},Wt=i.a.createElement,Yt={bienes:{searchParameters:{idFideicomiso:null,idSubcuenta:null,idTipoBien:null},searchResults:[],selectedRow:null,currentModel:new ft(null,null,null),modalMode:y.a.Alta,modalOpen:!1,isLoadingModel:!1,savingStatus:y.b.Initial,modalErrorMessage:null},detalleBienes:{searchResults:[],selectedRows:[],currentModel:new Tt(null,null,null,null,null),modalOpen:!1,modalMode:Sa.Registro,showActionsToolbar:!1,isLoadingModel:!1,savingStatus:y.b.Initial,modalErrorMessage:null}},Kt=function(){var e=Object(de.a)(ht,Yt),a=Object(u.a)(e,3),t=a[0],r=a[1],s=a[2],l=Object(le.a)(),d=l.alertSuccess,f=l.alertError,m=Object(n.useCallback)((function(e){r({type:"SET_DETALLE_BIENES_ROWS_SELECTION",selectedRows:e})}),[]),p=Object(n.useCallback)((function(){r({type:"CLOSE_BIENES_MODAL"})}),[]),O=Object(n.useCallback)((function(e){r(Vt.saveModel(e))}),[]),v=Object(n.useCallback)((function(e){r(Vt.newSearchBienes(e))}),[]),j=Object(n.useCallback)((function(){r({type:"CLOSE_DETALLE_BIENES_MODAL"})}),[]),S=Object(n.useCallback)((function(e){r(Ht.saveModel(e))}),[]),g=Object(n.useCallback)((function(e,a){r(Ht.saveModel(e,a))}),[]),h=Object(n.useMemo)((function(){return{onSelect:function(e){r(Vt.selectBienesRow(e[0]))},onNew:function(){r({type:"OPEN_BIENES_MODAL",mode:y.a.Alta})},onView:function(){r(Vt.fetchAndDisplayModel(y.a.Consulta))},onModify:function(){r(Vt.fetchAndDisplayModel(y.a.Modificacion))},onDelete:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)();case 2:e.sent&&s(Vt.deleteSelectedModel()).then((function(){d("Registros eliminados exitosamente")})).catch((function(e){f(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),[]),E=Object(n.useMemo)((function(){return{onNew:function(){r(Ht.newDetalleBienes())},onView:function(){r(Ht.fetchAndDisplayModel(Sa.Consulta))},onModify:function(){r(Ht.fetchAndDisplayModel(Sa.Modificacion))},onDelete:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Ht.deleteSelectedModels()).then((function(){d("Registros eliminados exitosamente")})).catch((function(e){f(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRevaluacion:function(){r(Ht.fetchAndDisplayModel(Sa.Revaluacion))}}}),[]);return Wt(i.a.Fragment,null,Wt(b.a.Provider,{value:h},Wt(Ra,{data:t.bienes.searchResults,onSearch:v})),Wt(Pa.Provider,{value:E},Wt(Ga,{data:t.detalleBienes.searchResults,showActionsHeader:t.detalleBienes.showActionsToolbar,onSelect:m})),Wt(Qa,{mode:t.bienes.modalMode,open:t.bienes.modalOpen,model:t.bienes.currentModel,isLoading:t.bienes.isLoadingModel,savingStatus:t.bienes.savingStatus,errorMessage:t.bienes.modalErrorMessage,onClose:p,onSaveRequest:O}),Wt(st,{mode:t.detalleBienes.modalMode,open:t.detalleBienes.modalOpen,model:t.detalleBienes.currentModel,isLoading:t.detalleBienes.isLoadingModel,savingStatus:t.detalleBienes.savingStatus,errorMessage:t.detalleBienes.modalErrorMessage,onClose:j,onSaveRequest:S,onRevaluacion:g}))},$t=t("AQ/A"),Jt=t("FmQR"),Zt=i.a.createElement,Xt=[{key:$t.b.BIENES,label:"Bienes",component:Kt},{key:$t.b.CARGA_MASIVA,label:"Carga Masiva de Bienes",component:function(){var e=pa(),a=Object(n.useState)(ja),t=a[0],i=a[1],r=!t.isInitialState&&null===t.error;function u(){return(u=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i({isInitialState:!1,isSaving:!0,error:null}),e.next=4,ca.aplicaCargaMasiva(a);case 4:i({isInitialState:!1,isSaving:!1,error:null}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({isInitialState:!1,isSaving:!1,error:null});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return la(E.a,{initialValues:va,onSubmit:function(e){return u.apply(this,arguments)},validationSchema:Oa.validationSchema},(function(a){return la("form",{className:e.root,onSubmit:a.handleSubmit},la(ea.a,{elevation:3,className:e.paper},la(l.a,{container:!0,spacing:1,direction:"column"},la(l.a,{container:!0,className:e.rowSpacing,spacing:4},la(l.a,{item:!0,xs:12},la(aa.a,{variant:"h6",component:"div"},"Carga Masiva"))),la(l.a,{container:!0,className:e.rowSpacing,spacing:4},la(l.a,{item:!0,xs:4},la(fa,{name:"idFideicomiso",label:"Num. Fideicomiso",dataType:"number",fullWidth:!0})),la(l.a,{item:!0,xs:4})),la(l.a,{container:!0,className:e.rowSpacing,spacing:4},la(l.a,{item:!0,xs:12},la(ba,{name:"tipoCarga",label:"Tipo de carga"},la(ra.a,{value:$e.Indovidualiacion.toString(),label:"Individualizaci\xf3n Inmuebles"}),la(ra.a,{value:$e.Liberacion.toString(),label:"Liberaci\xf3n"})))),la(l.a,{container:!0,className:e.rowSpacing,spacing:4},la(l.a,{item:!0,xs:12},la(ma,{name:"file"}))),la(l.a,{container:!0,justify:"flex-end"},la(sa.a,{message:""}),la(ua.a,{type:"submit",loading:t.isSaving,success:r,disabled:t.isSaving,startIcon:la(na.a,null)},"Aplicar")))))}))}},{key:$t.b.INDIVIDUALIZACION,label:"Individualizaci\xf3n de Bienes",component:Qe},{key:$t.b.ADQUIRIENTES,label:"Liberaciones",component:be}];function Qt(){return Zt(Jt.a,{tabs:Xt})}},rfjm:function(e,a,t){"use strict";var n=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("q1tI")),r=(0,n(t("8/g6")).default)(i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"}),"MonetizationOn");a.default=r},zpnI:function(e,a,t){"use strict";var n;t.d(a,"a",(function(){return n})),function(e){e[e.TiposDeBienes=38]="TiposDeBienes",e[e.PeriodicidadDeRevaluacion=52]="PeriodicidadDeRevaluacion",e[e.Estatus=560]="Estatus"}(n||(n={}))}},[["/kzC",0,1,3,2,4,5,6,7,8]]]);