(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{"6NQC":function(e,t,r){"use strict";var n=r("wx14"),a=r("q1tI"),c=r.n(a),o=r("R/WZ"),s=r("Z3vd"),u=r("kfFl"),i=r("+JwS"),l=r("EQI2"),d=r("++HY"),f=r("yv+Y"),p=r("6u8J"),v=r("C/iq"),O=r("EnIz"),b=r("PMaP"),m=c.a.createElement,h=Object(o.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}})),E=c.a.forwardRef((function(e,t){return m(p.a,Object(n.a)({direction:"up",ref:t},e))}));t.a=function(e){var t=e.operacionCatalogo,r=e.nombreCatalogo,n=e.subtitle,c=e.onCancel,o=e.onAccept,p=e.opened,S=e.children,M=e.errorMessage,g=e.saving,w=e.success,y=Object(a.useState)(!1),R=y[0],C=y[1];Object(a.useEffect)((function(){C(p)}),[p]);var j=h(),_=function(e,t){switch(e){case v.a.Alta:return"Alta de ".concat(t);case v.a.Modificacion:return"Modificaci\xf3n de ".concat(t);case v.a.Consulta:return"Consulta de ".concat(t);default:return""}}(t,r);return m(u.a,{open:R,TransitionComponent:E,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:c},m(f.a,null,_),m(l.a,null,m(d.a,null,n),m("form",{className:j.root,noValidate:!0,autoComplete:"off"},S)),m(i.a,null,m(b.a,{message:M}),m(s.a,{onClick:c,variant:"contained"},"Cancelar"),m(O.a,{onClick:o,loading:g,success:w,disabled:t===v.a.Consulta})))}},EnIz:function(e,t,r){"use strict";var n=r("wx14"),a=r("rePB"),c=r("Ff2n"),o=r("q1tI"),s=r.n(o),u=r("iuhU"),i=r("R/WZ"),l=r("ZBNC"),d=r("iae6"),f=r("6yBS"),p=r("Z3vd"),v=r("5rCv"),O=r.n(v),b=r("hQyO"),m=r.n(b),h=s.a.createElement,E=Object(i.a)((function(e){return Object(l.a)({wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:f.a[500],"&:hover":{backgroundColor:f.a[700]}},buttonProgress:{color:f.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})}));t.a=function(e){var t=e.loading,r=e.success,o=e.disabled,s=e.onClick,i=e.children,l=void 0===i?"Guardar":i,f=e.startIcon,v=void 0===f?h(m.a,null):f,b=Object(c.a)(e,["loading","success","disabled","onClick","children","startIcon"]),S=E(),M=Object(u.a)(Object(a.a)({},S.buttonSuccess,r));return h("div",{className:S.wrapper},h(p.a,Object(n.a)({startIcon:r?h(O.a,null):v,variant:"contained",color:"primary",className:M,disabled:t||o,onClick:s},b),l),t&&h(d.a,{size:24,className:S.buttonProgress}))}},HsiY:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("q1tI")),c=(0,n(r("8/g6")).default)(a.default.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.default=c},PMaP:function(e,t,r){"use strict";var n=r("q1tI"),a=r.n(n),c=r("R/WZ"),o=r("ZBNC"),s=r("HsiY"),u=r.n(s),i=a.a.createElement,l=Object(c.a)((function(e){return Object(o.a)({errorMessage:{display:"flex",alignItems:"center",color:e.palette.error.main,padding:e.spacing(1.5)},errorMessageIcon:{marginRight:e.spacing(.5)}})}));t.a=function(e){var t=e.message,r=l();return null==t?null:i("div",{className:r.errorMessage},i(u.a,{className:r.errorMessageIcon}),t)}},hQyO:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("q1tI")),c=(0,n(r("8/g6")).default)(a.default.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=c},q05S:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return S})),r.d(t,"d",(function(){return m})),r.d(t,"c",(function(){return b}));var n=r("o0o1"),a=r.n(n),c=r("HaE+"),o=r("1OyB"),s=r("vuIU"),u=r("rePB"),i=r("C/iq"),l=function(){function e(t){Object(o.a)(this,e),Object(u.a)(this,"api",void 0),this.api=t}return Object(s.a)(e,[{key:"search",value:function(e){var t=this;return function(){var r=Object(c.a)(a.a.mark((function r(n){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"SET_SEARCH_PARAMETERS",searchParameters:e}),r.next=3,t.searchAndSetResults(n,e);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},{key:"searchAndSetResults",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.find(r);case 2:n=e.sent,t({type:"SET_SEARCH_RESULTS",results:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"selectRow",value:function(e){return function(t){t({type:"SET_ROWS_SELECTION",selectedRow:e})}}},{key:"repeatCurrentSearch",value:function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),e.next=3,this.searchAndSetResults(t,n.searchParameters);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchAndDisplayModel",value:function(e){var t=this;return function(){var r=Object(c.a)(a.a.mark((function r(n,c){var o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=c(),r.next=3,t.fetchFullModel(o.selectedRow);case 3:null!==(s=r.sent)&&n({type:"SET_MODEL",model:s}),n({type:"OPEN_MODAL",mode:e});case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}},{key:"saveModel",value:function(e){var t=this;return function(){var r=Object(c.a)(a.a.mark((function r(n,c){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c(),n({type:"SAVE_MODEL"}),r.prev=2,o.modalMode!==i.a.Alta){r.next=13;break}return r.next=6,t.api.exists(e);case 6:if(!r.sent){r.next=9;break}throw new Error("El modelo ya existe");case 9:return r.next=11,t.api.create(e);case 11:r.next=15;break;case 13:return r.next=15,t.api.update(e);case 15:n({type:"SET_MODEL_SAVE_SUCCESS"}),t.repeatCurrentSearch(n,c),r.next=22;break;case 19:r.prev=19,r.t0=r.catch(2),n({type:"SET_MODEL_SAVE_ERROR",error:r.t0.message});case 22:case"end":return r.stop()}}),r,null,[[2,19]])})));return function(e,t){return r.apply(this,arguments)}}()}},{key:"deleteSelectedModel",value:function(){var e=this;return function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((c=n()).selectedRow){t.next=3;break}return t.abrupt("return");case 3:return o=e.api.getModelFromResultRow(c.selectedRow),t.next=6,e.api.destroy(o);case 6:return t.next=8,e.repeatCurrentSearch(r,n);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}]),e}(),d=r("ODXe"),f=r("g9qJ"),p=r("q1tI"),v=r("cRrg"),O=r("iwi0"),b={searchParameters:{idFideicomiso:null,idDepto:"",calleYNumero:"",status:""},searchResults:[],selectedRow:null,modalMode:i.a.Alta,modalOpen:!1,isLoadingModel:!1,savingStatus:i.b.Initial,modalErrorMessage:null};var m=function(e,t,r){var n=Object(f.a)(e,t),o=Object(d.a)(n,3),s=o[0],u=o[1],l=o[2],b=Object(v.a)(),m=b.alertSuccess,h=b.alertError;return[s,Object(p.useMemo)((function(){return{alertSuccess:m,alertError:h,onCloseModal:function(){u({type:"CLOSE_MODAL"})},onSave:function(e){u(r.saveModel(e))},onSearch:function(e){u(r.search(e))},tableCallbacks:{onSelect:function(e){u(r.selectRow(e[0]))},onNew:function(){u({type:"OPEN_MODAL",mode:i.a.Alta})},onView:function(){u(r.fetchAndDisplayModel(i.a.Consulta))},onModify:function(){u(r.fetchAndDisplayModel(i.a.Modificacion))},onDelete:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)();case 2:e.sent&&l(r.deleteSelectedModel()).then((function(){m("Registros eliminados exitosamente")})).catch((function(e){h(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}),[]),u,l]};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){switch(t.type){case"SET_SEARCH_PARAMETERS":return E(E({},e),{},{searchParameters:t.searchParameters,selectedRow:null});case"SET_SEARCH_RESULTS":return E(E({},e),{},{searchResults:t.results});case"SET_ROWS_SELECTION":var n=t.selectedRow;return E(E({},e),{},{selectedRow:t.selectedRow,currentModel:r.mainModelFromRow(n)});case"SET_MODEL":return E(E({},e),{},{currentModel:t.model});case"OPEN_MODAL":var a=e.currentModel,c=t.mode===i.a.Consulta||t.mode===i.a.Modificacion,o=t.mode===i.a.Alta;return o&&(a=r.newModel()),o||c&&e.selectedRow?E(E({},e),{},{modalOpen:!0,modalMode:t.mode,savingStatus:i.b.Initial,currentModel:a}):e;case"CLOSE_MODAL":return E(E({},e),{},{modalOpen:!1,modalErrorMessage:null});case"SAVE_MODEL":return E(E({},e),{},{savingStatus:i.b.Saving,modalErrorMessage:null});case"SET_MODEL_SAVE_SUCCESS":var s=e.modalMode;return s===i.a.Alta&&(s=i.a.Modificacion),E(E({},e),{},{savingStatus:i.b.Success,modalMode:s});case"SET_MODEL_SAVE_ERROR":return E(E({},e),{},{savingStatus:i.b.Error,modalErrorMessage:t.error});default:return e}}}}]);